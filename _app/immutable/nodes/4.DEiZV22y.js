import{s as Un,l as Qa,e as G,c as Z,b as et,f as F,$ as Ci,a0 as ki,i as Tt,u as Ja,q as Ka,v as ja,a1 as hn,y as ns,a2 as pe,a3 as dn,a4 as rs,A as tu,a5 as eu,F as nu,n as ee,a6 as ru,o as It,T as gr,t as st,a as Kt,d as at,g as jt,h as R,r as iu,w as Ai}from"../chunks/scheduler.CszMZD9z.js";import{S as zn,i as Ln,a as Bt,t as Vt,g as is,c as os,b as Lr,d as Hr,m as Yr,e as Br}from"../chunks/index.d0Csr_J0.js";import{e as Ni,u as ou,o as su}from"../chunks/each.0BDDj6Eu.js";var _r="http://www.w3.org/1999/xhtml";const Ei={svg:"http://www.w3.org/2000/svg",xhtml:_r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ei.hasOwnProperty(e)?{space:Ei[e],local:t}:t}function au(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_r&&e.documentElement.namespaceURI===_r?e.createElement(t):e.createElementNS(n,t)}}function uu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ss(t){var e=Hn(t);return(e.local?uu:au)(e)}function cu(){}function Vr(t){return t==null?cu:function(){return this.querySelector(t)}}function lu(t){typeof t!="function"&&(t=Vr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,c,l=0;l<s;++l)(u=o[l])&&(c=t.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),a[l]=c);return new rt(r,this._parents)}function fu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hu(){return[]}function as(t){return t==null?hu:function(){return this.querySelectorAll(t)}}function du(t){return function(){return fu(t.apply(this,arguments))}}function gu(t){typeof t=="function"?t=du(t):t=as(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new rt(r,i)}function us(t){return function(){return this.matches(t)}}function cs(t){return function(e){return e.matches(t)}}var _u=Array.prototype.find;function pu(t){return function(){return _u.call(this.children,t)}}function mu(){return this.firstElementChild}function vu(t){return this.select(t==null?mu:pu(typeof t=="function"?t:cs(t)))}var yu=Array.prototype.filter;function xu(){return Array.from(this.children)}function wu(t){return function(){return yu.call(this.children,t)}}function bu(t){return this.selectAll(t==null?xu:wu(typeof t=="function"?t:cs(t)))}function Su(t){typeof t!="function"&&(t=us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new rt(r,this._parents)}function ls(t){return new Array(t.length)}function Mu(){return new rt(this._enter||this._groups.map(ls),this._parents)}function gn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}gn.prototype={constructor:gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tu(t){return function(){return t}}function Cu(t,e,n,r,i,o){for(var s=0,a,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new gn(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function ku(t,e,n,r,i,o,s){var a,u,c=new Map,l=e.length,f=o.length,h=new Array(l),d;for(a=0;a<l;++a)(u=e[a])&&(h[a]=d=s.call(u,u.__data__,a,e)+"",c.has(d)?i[a]=u:c.set(d,u));for(a=0;a<f;++a)d=s.call(t,o[a],a,o)+"",(u=c.get(d))?(r[a]=u,u.__data__=o[a],c.delete(d)):n[a]=new gn(t,o[a]);for(a=0;a<l;++a)(u=e[a])&&c.get(h[a])===u&&(i[a]=u)}function Au(t){return t.__data__}function Nu(t,e){if(!arguments.length)return Array.from(this,Au);var n=e?ku:Cu,r=this._parents,i=this._groups;typeof t!="function"&&(t=Tu(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=Eu(t.call(l,l&&l.__data__,c,r)),_=d.length,g=a[c]=new Array(_),p=s[c]=new Array(_),v=u[c]=new Array(h);n(l,f,g,p,v,d,e);for(var y=0,w=0,T,M;y<_;++y)if(T=g[y]){for(y>=w&&(w=y+1);!(M=p[w])&&++w<_;);T._next=M||null}}return s=new rt(s,r),s._enter=a,s._exit=u,s}function Eu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Du(){return new rt(this._exit||this._groups.map(ls),this._parents)}function Ou(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ru(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=n[u],l=r[u],f=c.length,h=a[u]=new Array(f),d,_=0;_<f;++_)(d=c[_]||l[_])&&(h[_]=d);for(;u<i;++u)a[u]=n[u];return new rt(a,this._parents)}function $u(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Fu(t){t||(t=Iu);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),c,l=0;l<a;++l)(c=s[l])&&(u[l]=c);u.sort(e)}return new rt(i,this._parents).order()}function Iu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Uu(){return Array.from(this)}function zu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Lu(){let t=0;for(const e of this)++t;return t}function Hu(){return!this.node()}function Yu(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Bu(t){return function(){this.removeAttribute(t)}}function Vu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wu(t,e){return function(){this.setAttribute(t,e)}}function qu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zu(t,e){var n=Hn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vu:Bu:typeof e=="function"?n.local?Gu:Xu:n.local?qu:Wu)(n,e))}function fs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qu(t){return function(){this.style.removeProperty(t)}}function Ju(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ku(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ju(t,e,n){return arguments.length>1?this.each((e==null?Qu:typeof e=="function"?Ku:Ju)(t,e,n??"")):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||fs(t).getComputedStyle(t,null).getPropertyValue(e)}function tc(t){return function(){delete this[t]}}function ec(t,e){return function(){this[t]=e}}function nc(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function rc(t,e){return arguments.length>1?this.each((e==null?tc:typeof e=="function"?nc:ec)(t,e)):this.node()[t]}function hs(t){return t.trim().split(/^|\s+/)}function Wr(t){return t.classList||new ds(t)}function ds(t){this._node=t,this._names=hs(t.getAttribute("class")||"")}ds.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gs(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _s(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ic(t){return function(){gs(this,t)}}function oc(t){return function(){_s(this,t)}}function sc(t,e){return function(){(e.apply(this,arguments)?gs:_s)(this,t)}}function ac(t,e){var n=hs(t+"");if(arguments.length<2){for(var r=Wr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?sc:e?ic:oc)(n,e))}function uc(){this.textContent=""}function cc(t){return function(){this.textContent=t}}function lc(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fc(t){return arguments.length?this.each(t==null?uc:(typeof t=="function"?lc:cc)(t)):this.node().textContent}function hc(){this.innerHTML=""}function dc(t){return function(){this.innerHTML=t}}function gc(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _c(t){return arguments.length?this.each(t==null?hc:(typeof t=="function"?gc:dc)(t)):this.node().innerHTML}function pc(){this.nextSibling&&this.parentNode.appendChild(this)}function mc(){return this.each(pc)}function vc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yc(){return this.each(vc)}function xc(t){var e=typeof t=="function"?t:ss(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wc(){return null}function bc(t,e){var n=typeof t=="function"?t:ss(t),r=e==null?wc:typeof e=="function"?e:Vr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sc(){var t=this.parentNode;t&&t.removeChild(this)}function Mc(){return this.each(Sc)}function Tc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kc(t){return this.select(t?Cc:Tc)}function Ac(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Nc(t){return function(e){t.call(this,e,this.__data__)}}function Ec(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Dc(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Oc(t,e,n){return function(){var r=this.__on,i,o=Nc(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Rc(t,e,n){var r=Ec(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,l;u<c;++u)for(i=0,l=a[u];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=e?Oc:Dc,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function ps(t,e,n){var r=fs(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $c(t,e){return function(){return ps(this,t,e)}}function Fc(t,e){return function(){return ps(this,t,e.apply(this,arguments))}}function Ic(t,e){return this.each((typeof e=="function"?Fc:$c)(t,e))}function*Pc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ms=[null];function rt(t,e){this._groups=t,this._parents=e}function Ye(){return new rt([[document.documentElement]],ms)}function Uc(){return this}rt.prototype=Ye.prototype={constructor:rt,select:lu,selectAll:gu,selectChild:vu,selectChildren:bu,filter:Su,data:Nu,enter:Mu,exit:Du,join:Ou,merge:Ru,selection:Uc,order:$u,sort:Fu,call:Pu,nodes:Uu,node:zu,size:Lu,empty:Hu,each:Yu,attr:Zu,style:ju,property:rc,classed:ac,text:fc,html:_c,raise:mc,lower:yc,append:xc,insert:bc,remove:Mc,clone:kc,datum:Ac,on:Rc,dispatch:Ic,[Symbol.iterator]:Pc};function _n(t){return typeof t=="string"?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],ms)}var Ae;(function(t){t[t.SVG=0]="SVG",t[t.HTML=1]="HTML"})(Ae||(Ae={}));var ae;(function(t){t.Fit="fit",t.Extend="extend",t.FitWidth="fit_width"})(ae||(ae={}));function Ne(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zc(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qr(t){let e,n,r;t.length!==2?(e=Ne,n=(a,u)=>Ne(t(a),u),r=(a,u)=>t(a)-u):(e=t===Ne||t===zc?t:Lc,n=t,r=t);function i(a,u,c=0,l=a.length){if(c<l){if(e(u,u)!==0)return l;do{const f=c+l>>>1;n(a[f],u)<0?c=f+1:l=f}while(c<l)}return c}function o(a,u,c=0,l=a.length){if(c<l){if(e(u,u)!==0)return l;do{const f=c+l>>>1;n(a[f],u)<=0?c=f+1:l=f}while(c<l)}return c}function s(a,u,c=0,l=a.length){const f=i(a,u,c,l-1);return f>c&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:s,right:o}}function Lc(){return 0}function vs(t){return t===null?NaN:+t}const Hc=qr(Ne),Yn=Hc.right;qr(vs).center;function Yc(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Di extends Map{constructor(e,n=Wc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Oi(this,e))}has(e){return super.has(Oi(this,e))}set(e,n){return super.set(Bc(this,e),n)}delete(e){return super.delete(Vc(this,e))}}function Oi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vc({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Wc(t){return t!==null&&typeof t=="object"?t.valueOf():t}const qc=Math.sqrt(50),Xc=Math.sqrt(10),Gc=Math.sqrt(2);function pn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=qc?10:o>=Xc?5:o>=Gc?2:1;let a,u,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),u=Math.round(e*c),a/c<t&&++a,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),u=Math.round(e/c),a*c<t&&++a,u*c>e&&--u),u<a&&.5<=n&&n<2?pn(t,e,n*2):[a,u,c]}function pr(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?pn(e,t,n):pn(t,e,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)u[c]=(o-c)/-s;else for(let c=0;c<a;++c)u[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)u[c]=(i+c)/-s;else for(let c=0;c<a;++c)u[c]=(i+c)*s;return u}function mr(t,e,n){return e=+e,t=+t,n=+n,pn(t,e,n)[2]}function vr(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mr(e,t,n):mr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ri(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $i(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Zc(t,e,n=vs){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function*Qc(t){for(const e of t)yield*e}function Jc(t){return Array.from(Qc(t))}function Kc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function jc(t,e,n){var r={},i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,u=r.debounceMode,c=u===void 0?void 0:u,l,f=!1,h=0;function d(){l&&clearTimeout(l)}function _(p){var v=p||{},y=v.upcomingOnly,w=y===void 0?!1:y;d(),f=!w}function g(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];var w=this,T=Date.now()-h;if(f)return;function M(){h=Date.now(),e.apply(w,v)}function x(){l=void 0}!a&&c&&!l&&M(),d(),c===void 0&&T>t?a?(h=Date.now(),o||(l=setTimeout(c?x:M,t))):M():o!==!0&&(l=setTimeout(c?x:M,c===void 0?t-T:t))}return g.cancel=_,g}const Oe=t=>typeof t=="number",ys=t=>typeof t=="function",Xr=t=>Array.isArray(t),tl=t=>t instanceof Object,mn=t=>t.constructor.name!=="Function"&&t.constructor.name!=="Object",Fi=t=>tl(t)&&!Xr(t)&&!ys(t)&&!mn(t),vn=(t,e,n=new Set)=>{if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;if(n.has(t))return!0;n.add(t);for(let r=0;r<t.length;r++)if(!vn(t[r],e[r],n))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(typeof t=="object"&&t!==null&&e!==null){if(typeof e!="object")return!1;if(t===e)return!0;if(Object.keys(t).length!==Object.keys(e).length)return!1;if(n.has(t))return!0;n.add(t);for(const i in t)if(!vn(t[i],e[i],n))return!1;return!0}return t===e},Ii=t=>t.flat(),yn=(t,e=new Map)=>{if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const n=[];e.set(t,n);for(const r of t)n.push(e.has(r)?e.get(r):yn(r,e));return n}if(mn(t))return t;if(t instanceof Object){const n={};e.set(t,n);const r=t;return Object.keys(t).reduce((i,o)=>(i[o]=e.has(r[o])?e.get(r[o]):yn(r[o],e),i),n),n}return t},Gr=(t,e,n=new Map)=>{if(!t||!e||t===e)return t;const r=mn(t)?t:yn(t);return n.has(e)?n.get(e):(n.set(e,r),Object.keys(e).forEach(i=>{i==="__proto__"||i==="constructor"||(Fi(t[i])&&Fi(e[i])?r[i]=Gr(t[i],e[i],n):mn(e)?r[i]=e:r[i]=yn(e[i]))}),r)},Pi=(t,e,n)=>jc(e,t);function Zr(t,e,n){return ys(e)?e(t,n):e}function xs(t,e,n){return Zr(t,e,n)}function Re(t,e,n){return Zr(t,e,n)}function me(t){return t.filter(e=>e&&!Oe(e))}function te(t,e,n){return Math.min(Math.max(t,e),n)}function el(t,...e){return t?$i(t,(r,i)=>$i(e,o=>Re(r,o,i))):void 0}function nl(t,...e){return t?Ri(t,(r,i)=>Ri(e,o=>Re(r,o,i))):void 0}function er(t,...e){return[el(t,...e),nl(t,...e)]}function rl(t,e,n){return t.filter((i,o)=>{const s=Re(i,n,o);return s>=e[0]&&s<=e[1]})}var zt=[],il=function(){return zt.some(function(t){return t.activeTargets.length>0})},ol=function(){return zt.some(function(t){return t.skippedTargets.length>0})},Ui="ResizeObserver loop completed with undelivered notifications.",sl=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Ui}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Ui),window.dispatchEvent(t)},$e;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})($e||($e={}));var Lt=function(t){return Object.freeze(t)},al=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Lt(this)}return t}(),ws=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Lt(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,o=e.right,s=e.bottom,a=e.left,u=e.width,c=e.height;return{x:n,y:r,top:i,right:o,bottom:s,left:a,width:u,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Qr=function(t){return t instanceof SVGElement&&"getBBox"in t},bs=function(t){if(Qr(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||t.getClientRects().length)},zi=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},ul=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ee=typeof window<"u"?window:{},Ze=new WeakMap,Li=/auto|scroll/,cl=/^tb|vertical/,ll=/msie|trident/i.test(Ee.navigator&&Ee.navigator.userAgent),pt=function(t){return parseFloat(t||"0")},ne=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new al((n?e:t)||0,(n?t:e)||0)},Hi=Lt({devicePixelContentBoxSize:ne(),borderBoxSize:ne(),contentBoxSize:ne(),contentRect:new ws(0,0,0,0)}),Ss=function(t,e){if(e===void 0&&(e=!1),Ze.has(t)&&!e)return Ze.get(t);if(bs(t))return Ze.set(t,Hi),Hi;var n=getComputedStyle(t),r=Qr(t)&&t.ownerSVGElement&&t.getBBox(),i=!ll&&n.boxSizing==="border-box",o=cl.test(n.writingMode||""),s=!r&&Li.test(n.overflowY||""),a=!r&&Li.test(n.overflowX||""),u=r?0:pt(n.paddingTop),c=r?0:pt(n.paddingRight),l=r?0:pt(n.paddingBottom),f=r?0:pt(n.paddingLeft),h=r?0:pt(n.borderTopWidth),d=r?0:pt(n.borderRightWidth),_=r?0:pt(n.borderBottomWidth),g=r?0:pt(n.borderLeftWidth),p=f+c,v=u+l,y=g+d,w=h+_,T=a?t.offsetHeight-w-t.clientHeight:0,M=s?t.offsetWidth-y-t.clientWidth:0,x=i?p+y:0,S=i?v+w:0,U=r?r.width:pt(n.width)-x-M,it=r?r.height:pt(n.height)-S-T,gt=U+p+M+y,C=it+v+T+w,H=Lt({devicePixelContentBoxSize:ne(Math.round(U*devicePixelRatio),Math.round(it*devicePixelRatio),o),borderBoxSize:ne(gt,C,o),contentBoxSize:ne(U,it,o),contentRect:new ws(f,u,U,it)});return Ze.set(t,H),H},Ms=function(t,e,n){var r=Ss(t,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case $e.DEVICE_PIXEL_CONTENT_BOX:return s;case $e.BORDER_BOX:return i;default:return o}},fl=function(){function t(e){var n=Ss(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Lt([n.borderBoxSize]),this.contentBoxSize=Lt([n.contentBoxSize]),this.devicePixelContentBoxSize=Lt([n.devicePixelContentBoxSize])}return t}(),Ts=function(t){if(bs(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},hl=function(){var t=1/0,e=[];zt.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(c){var l=new fl(c.target),f=Ts(c.target);a.push(l),c.lastReportedSize=Ms(c.target,c.observedBox),f<t&&(t=f)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},Yi=function(t){zt.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Ts(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},dl=function(){var t=0;for(Yi(t);il();)t=hl(),Yi(t);return ol()&&sl(),t>0},nr,Cs=[],gl=function(){return Cs.splice(0).forEach(function(t){return t()})},_l=function(t){if(!nr){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return gl()}).observe(n,r),nr=function(){n.textContent="".concat(e?e--:e++)}}Cs.push(t),nr()},pl=function(t){_l(function(){requestAnimationFrame(t)})},on=0,ml=function(){return!!on},vl=250,yl={attributes:!0,characterData:!0,childList:!0,subtree:!0},Bi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Vi=function(t){return t===void 0&&(t=0),Date.now()+t},rr=!1,xl=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=vl),!rr){rr=!0;var r=Vi(e);pl(function(){var i=!1;try{i=dl()}finally{if(rr=!1,e=r-Vi(),!ml())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,yl)};document.body?n():Ee.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Bi.forEach(function(n){return Ee.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Bi.forEach(function(n){return Ee.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),yr=new xl,Wi=function(t){!on&&t>0&&yr.start(),on+=t,!on&&yr.stop()},wl=function(t){return!Qr(t)&&!ul(t)&&getComputedStyle(t).display==="inline"},bl=function(){function t(e,n){this.target=e,this.observedBox=n||$e.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Ms(this.target,this.observedBox,!0);return wl(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Sl=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Qe=new WeakMap,qi=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Je=function(){function t(){}return t.connect=function(e,n){var r=new Sl(e,n);Qe.set(e,r)},t.observe=function(e,n,r){var i=Qe.get(e),o=i.observationTargets.length===0;qi(i.observationTargets,n)<0&&(o&&zt.push(i),i.observationTargets.push(new bl(n,r&&r.box)),Wi(1),yr.schedule())},t.unobserve=function(e,n){var r=Qe.get(e),i=qi(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&zt.splice(zt.indexOf(r),1),r.observationTargets.splice(i,1),Wi(-1))},t.disconnect=function(e){var n=this,r=Qe.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),Ml=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Je.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!zi(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Je.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!zi(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Je.unobserve(this,e)},t.prototype.disconnect=function(){Je.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const Tl=globalThis.ResizeObserver||Ml,ks={duration:void 0,margin:{top:0,bottom:0,left:0,right:0},padding:{top:0,bottom:0,left:0,right:0},sizing:ae.Fit,width:void 0,height:void 0,svgDefs:void 0,ariaLabel:void 0};class Fe{constructor(e){this._defaultConfig=ks,this._isFirstRender=!0,this._requestedAnimationFrame=null,this._container=e;const n=_n(this._container);n.attr("role","figure"),this.svg=n.append("svg").style("display","block").attr("xmlns","http://www.w3.org/2000/svg").attr("height",Fe.DEFAULT_CONTAINER_HEIGHT).attr("aria-hidden",!0),this._svgDefs=this.svg.append("defs"),this.element=this.svg.node()}updateContainer(e){this.prevConfig=this.config,this.config=Gr(this._defaultConfig,e)}_preRender(){}_render(e){const{config:n}=this;n.svgDefs&&(this.svg.select(".svgDefs").remove(),this.svg.append("defs").attr("class","svgDefs").html(n.svgDefs)),_n(this._container).attr("aria-label",n.ariaLabel),this._isFirstRender=!1}render(e=this.config.duration){const n=this.config.width||this.containerWidth,r=this.config.height||this.containerHeight;this.svg.attr("width",n).attr("height",r),this._resizeObserver||this._setUpResizeObserver(),cancelAnimationFrame(this._requestedAnimationFrame),this._requestedAnimationFrame=requestAnimationFrame(()=>{this._preRender(),this._render(e)})}get containerWidth(){return this.config.width?this.element.clientWidth:this._container.clientWidth||this._container.getBoundingClientRect().width}get containerHeight(){return this.config.height?this.element.clientHeight:this._container.clientHeight||this._container.getBoundingClientRect().height||Fe.DEFAULT_CONTAINER_HEIGHT}get width(){return te(this.containerWidth-this.config.margin.left-this.config.margin.right,0,Number.POSITIVE_INFINITY)}get height(){return te(this.containerHeight-this.config.margin.top-this.config.margin.bottom,0,Number.POSITIVE_INFINITY)}_removeAllChildren(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)}_onResize(){const{config:e}=this;(e.sizing===ae.Fit||e.sizing===ae.FitWidth)&&this.render(0)}_setUpResizeObserver(){if(this._resizeObserver)return;const e=this._container.getBoundingClientRect();this._containerSize={width:e.width,height:e.height},this._resizeObserver=new Tl((n,r)=>{const i=this._container.getBoundingClientRect(),o={width:i.width,height:i.height};!vn(this._containerSize,o)&&o.width&&o.height&&(this._containerSize=o,this._onResize())}),this._resizeObserver.observe(this._container)}destroy(){var e;cancelAnimationFrame(this._requestedAnimationFrame),(e=this._resizeObserver)===null||e===void 0||e.disconnect(),this.svg.remove()}}Fe.DEFAULT_CONTAINER_HEIGHT=300;function Cl(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kl(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Al=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kl(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Cl(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),q="-ms-",xn="-moz-",E="-webkit-",As="comm",Jr="rule",Kr="decl",Nl="@import",Ns="@keyframes",El="@layer",Dl=Math.abs,Bn=String.fromCharCode,Ol=Object.assign;function Rl(t,e){return V(t,0)^45?(((e<<2^V(t,0))<<2^V(t,1))<<2^V(t,2))<<2^V(t,3):0}function Es(t){return t.trim()}function $l(t,e){return(t=e.exec(t))?t[0]:t}function D(t,e,n){return t.replace(e,n)}function xr(t,e){return t.indexOf(e)}function V(t,e){return t.charCodeAt(e)|0}function Ie(t,e,n){return t.slice(e,n)}function mt(t){return t.length}function jr(t){return t.length}function Ke(t,e){return e.push(t),t}function Fl(t,e){return t.map(e).join("")}var Vn=1,ue=1,Ds=0,K=0,z=0,de="";function Wn(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Vn,column:ue,length:s,return:""}}function ve(t,e){return Ol(Wn("",null,null,"",null,null,0),t,{length:-t.length},e)}function Il(){return z}function Pl(){return z=K>0?V(de,--K):0,ue--,z===10&&(ue=1,Vn--),z}function nt(){return z=K<Ds?V(de,K++):0,ue++,z===10&&(ue=1,Vn++),z}function vt(){return V(de,K)}function sn(){return K}function Be(t,e){return Ie(de,t,e)}function Pe(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Os(t){return Vn=ue=1,Ds=mt(de=t),K=0,[]}function Rs(t){return de="",t}function an(t){return Es(Be(K-1,wr(t===91?t+2:t===40?t+1:t)))}function Ul(t){for(;(z=vt())&&z<33;)nt();return Pe(t)>2||Pe(z)>3?"":" "}function zl(t,e){for(;--e&&nt()&&!(z<48||z>102||z>57&&z<65||z>70&&z<97););return Be(t,sn()+(e<6&&vt()==32&&nt()==32))}function wr(t){for(;nt();)switch(z){case t:return K;case 34:case 39:t!==34&&t!==39&&wr(z);break;case 40:t===41&&wr(t);break;case 92:nt();break}return K}function Ll(t,e){for(;nt()&&t+z!==57;)if(t+z===84&&vt()===47)break;return"/*"+Be(e,K-1)+"*"+Bn(t===47?t:nt())}function Hl(t){for(;!Pe(vt());)nt();return Be(t,K)}function Yl(t){return Rs(un("",null,null,null,[""],t=Os(t),0,[0],t))}function un(t,e,n,r,i,o,s,a,u){for(var c=0,l=0,f=s,h=0,d=0,_=0,g=1,p=1,v=1,y=0,w="",T=i,M=o,x=r,S=w;p;)switch(_=y,y=nt()){case 40:if(_!=108&&V(S,f-1)==58){xr(S+=D(an(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=an(y);break;case 9:case 10:case 13:case 32:S+=Ul(_);break;case 92:S+=zl(sn()-1,7);continue;case 47:switch(vt()){case 42:case 47:Ke(Bl(Ll(nt(),sn()),e,n),u);break;default:S+="/"}break;case 123*g:a[c++]=mt(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+l:v==-1&&(S=D(S,/\f/g,"")),d>0&&mt(S)-f&&Ke(d>32?Gi(S+";",r,n,f-1):Gi(D(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Ke(x=Xi(S,e,n,c,l,i,a,w,T=[],M=[],f),o),y===123)if(l===0)un(S,e,x,x,T,o,f,a,M);else switch(h===99&&V(S,3)===110?100:h){case 100:case 108:case 109:case 115:un(t,x,x,r&&Ke(Xi(t,x,x,0,0,i,a,w,i,T=[],f),M),i,M,f,a,r?T:M);break;default:un(S,x,x,x,[""],M,0,a,M)}}c=l=d=0,g=v=1,w=S="",f=s;break;case 58:f=1+mt(S),d=_;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Pl()==125)continue}switch(S+=Bn(y),y*g){case 38:v=l>0?1:(S+="\f",-1);break;case 44:a[c++]=(mt(S)-1)*v,v=1;break;case 64:vt()===45&&(S+=an(nt())),h=vt(),l=f=mt(w=S+=Hl(sn())),y++;break;case 45:_===45&&mt(S)==2&&(g=0)}}return o}function Xi(t,e,n,r,i,o,s,a,u,c,l){for(var f=i-1,h=i===0?o:[""],d=jr(h),_=0,g=0,p=0;_<r;++_)for(var v=0,y=Ie(t,f+1,f=Dl(g=s[_])),w=t;v<d;++v)(w=Es(g>0?h[v]+" "+y:D(y,/&\f/g,h[v])))&&(u[p++]=w);return Wn(t,e,n,i===0?Jr:a,u,c,l)}function Bl(t,e,n){return Wn(t,e,n,As,Bn(Il()),Ie(t,2,-2),0)}function Gi(t,e,n,r){return Wn(t,e,n,Kr,Ie(t,0,r),Ie(t,r+1,-1),r)}function re(t,e){for(var n="",r=jr(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Vl(t,e,n,r){switch(t.type){case El:if(t.children.length)break;case Nl:case Kr:return t.return=t.return||t.value;case As:return"";case Ns:return t.return=t.value+"{"+re(t.children,r)+"}";case Jr:t.value=t.props.join(",")}return mt(n=re(t.children,r))?t.return=t.value+"{"+n+"}":""}function Wl(t){var e=jr(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function ql(t){return function(e){e.root||(e=e.return)&&t(e)}}function Xl(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Gl=function(e,n,r){for(var i=0,o=0;i=o,o=vt(),i===38&&o===12&&(n[r]=1),!Pe(o);)nt();return Be(e,K)},Zl=function(e,n){var r=-1,i=44;do switch(Pe(i)){case 0:i===38&&vt()===12&&(n[r]=1),e[r]+=Gl(K-1,n,r);break;case 2:e[r]+=an(i);break;case 4:if(i===44){e[++r]=vt()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Bn(i)}while(i=nt());return e},Ql=function(e,n){return Rs(Zl(Os(e),n))},Zi=new WeakMap,Jl=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Zi.get(r))&&!i){Zi.set(e,!0);for(var o=[],s=Ql(n,o),a=r.props,u=0,c=0;u<s.length;u++)for(var l=0;l<a.length;l++,c++)e.props[c]=o[u]?s[u].replace(/&\f/g,a[l]):a[l]+" "+s[u]}}},Kl=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $s(t,e){switch(Rl(t,e)){case 5103:return E+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return E+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return E+t+xn+t+q+t+t;case 6828:case 4268:return E+t+q+t+t;case 6165:return E+t+q+"flex-"+t+t;case 5187:return E+t+D(t,/(\w+).+(:[^]+)/,E+"box-$1$2"+q+"flex-$1$2")+t;case 5443:return E+t+q+"flex-item-"+D(t,/flex-|-self/,"")+t;case 4675:return E+t+q+"flex-line-pack"+D(t,/align-content|flex-|-self/,"")+t;case 5548:return E+t+q+D(t,"shrink","negative")+t;case 5292:return E+t+q+D(t,"basis","preferred-size")+t;case 6060:return E+"box-"+D(t,"-grow","")+E+t+q+D(t,"grow","positive")+t;case 4554:return E+D(t,/([^-])(transform)/g,"$1"+E+"$2")+t;case 6187:return D(D(D(t,/(zoom-|grab)/,E+"$1"),/(image-set)/,E+"$1"),t,"")+t;case 5495:case 3959:return D(t,/(image-set\([^]*)/,E+"$1$`$1");case 4968:return D(D(t,/(.+:)(flex-)?(.*)/,E+"box-pack:$3"+q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+E+t+t;case 4095:case 3583:case 4068:case 2532:return D(t,/(.+)-inline(.+)/,E+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mt(t)-1-e>6)switch(V(t,e+1)){case 109:if(V(t,e+4)!==45)break;case 102:return D(t,/(.+:)(.+)-([^]+)/,"$1"+E+"$2-$3$1"+xn+(V(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xr(t,"stretch")?$s(D(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(V(t,e+1)!==115)break;case 6444:switch(V(t,mt(t)-3-(~xr(t,"!important")&&10))){case 107:return D(t,":",":"+E)+t;case 101:return D(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+E+(V(t,14)===45?"inline-":"")+"box$3$1"+E+"$2$3$1"+q+"$2box$3")+t}break;case 5936:switch(V(t,e+11)){case 114:return E+t+q+D(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return E+t+q+D(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return E+t+q+D(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return E+t+q+t+t}return t}var jl=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Kr:e.return=$s(e.value,e.length);break;case Ns:return re([ve(e,{value:D(e.value,"@","@"+E)})],i);case Jr:if(e.length)return Fl(e.props,function(o){switch($l(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return re([ve(e,{props:[D(o,/:(read-\w+)/,":"+xn+"$1")]})],i);case"::placeholder":return re([ve(e,{props:[D(o,/:(plac\w+)/,":"+E+"input-$1")]}),ve(e,{props:[D(o,/:(plac\w+)/,":"+xn+"$1")]}),ve(e,{props:[D(o,/:(plac\w+)/,q+"input-$1")]})],i)}return""})}},tf=[jl],ef=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||tf,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),v=1;v<p.length;v++)o[p[v]]=!0;a.push(g)});var u,c=[Jl,Kl];{var l,f=[Vl,ql(function(g){l.insert(g)})],h=Wl(c.concat(i,f)),d=function(p){return re(Yl(p),h)};u=function(p,v,y,w){l=y,d(p?p+"{"+v.styles+"}":v.styles),w&&(_.inserted[v.name]=!0)}}var _={key:n,sheet:new Al({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return _.sheet.hydrate(a),_};function nf(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var rf={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},of=/[A-Z]|^ms/g,sf=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fs=function(e){return e.charCodeAt(1)===45},Qi=function(e){return e!=null&&typeof e!="boolean"},ir=Xl(function(t){return Fs(t)?t:t.replace(of,"-$&").toLowerCase()}),Ji=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(sf,function(r,i,o){return Ot={name:i,styles:o,next:Ot},i})}return rf[e]!==1&&!Fs(e)&&typeof n=="number"&&n!==0?n+"px":n};function wn(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ot={name:n.name,styles:n.styles,next:Ot},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ot={name:r.name,styles:r.styles,next:Ot},r=r.next;var i=n.styles+";";return i}return af(t,e,n)}}if(e==null)return n;var o=e[n];return o!==void 0?o:n}function af(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wn(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":Qi(s)&&(r+=ir(o)+":"+Ji(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)Qi(s[a])&&(r+=ir(o)+":"+Ji(o,s[a])+";");else{var u=wn(t,e,s);switch(o){case"animation":case"animationName":{r+=ir(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var Ki=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ot,or=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Ot=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=wn(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=wn(r,n,e[a]),i&&(o+=s[a]);Ki.lastIndex=0;for(var u="",c;(c=Ki.exec(o))!==null;)u+="-"+c[1];var l=nf(o)+u;return{name:l,styles:o,next:Ot}};function Is(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var uf=function(e,n,r){var i=e.key+"-"+n.name;e.registered[i]===void 0&&(e.registered[i]=n.styles)},cf=function(e,n,r){uf(e,n);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function ji(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function to(t,e,n){var r=[],i=Is(t,r,n);return r.length<2?n:i+e(r)}var lf=function(e){var n=ef(e);n.sheet.speedy=function(a){this.isSpeedy=a},n.compat=!0;var r=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=or(c,n.registered,void 0);return cf(n,f),n.key+"-"+f.name},i=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=or(c,n.registered),h="animation-"+f.name;return ji(n,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},o=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=or(c,n.registered);ji(n,f)},s=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return to(n.registered,r,ff(c))};return{css:r,cx:s,injectGlobal:o,keyframes:i,hydrate:function(u){u.forEach(function(c){n.inserted[c]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Is.bind(null,n.registered),merge:to.bind(null,n.registered,r)}},ff=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},Ps=lf({key:"css"}),Us=Ps.injectGlobal,ge=Ps.css,hf=function(e,n){n||(n=[0,""]),e=String(e);var r=parseFloat(e,10);return n[0]=r,n[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",n},zs=hf,ye=Ls("in",document.body);function br(t,e){var n=zs(getComputedStyle(t).getPropertyValue(e));return n[0]*Hs(n[1],t)}function Ls(t,e){var n=document.createElement("div");n.style.height="128"+t,e.appendChild(n);var r=br(n,"height")/128;return e.removeChild(n),r}function Hs(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),(e===window||e===document)&&(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return Ls(t,e);case"em":return br(e,"font-size");case"rem":return br(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return ye;case"cm":return ye/2.54;case"mm":return ye/25.4;case"pt":return ye/72;case"pc":return ye/6;case"px":return 1}var n=zs(t);if(!isNaN(n[0])&&n[1]){var r=Hs(n[1],e);return typeof r=="number"?n[0]*r:null}return null}function Ys(){const t=()=>Math.floor((1+crypto.getRandomValues(new Uint32Array(1))[0])*65536).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}function ti(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ve(){}var Ue=.7,bn=1/Ue,ie="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",df=/^#([0-9a-f]{3,8})$/,gf=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),_f=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),pf=new RegExp(`^rgba\\(${ie},${ie},${ie},${ze}\\)$`),mf=new RegExp(`^rgba\\(${yt},${yt},${yt},${ze}\\)$`),vf=new RegExp(`^hsl\\(${ze},${yt},${yt}\\)$`),yf=new RegExp(`^hsla\\(${ze},${yt},${yt},${ze}\\)$`),eo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ti(Ve,Wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:no,formatHex:no,formatHex8:xf,formatHsl:wf,formatRgb:ro,toString:ro});function no(){return this.rgb().formatHex()}function xf(){return this.rgb().formatHex8()}function wf(){return Vs(this).formatHsl()}function ro(){return this.rgb().formatRgb()}function Wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=df.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?io(e):n===3?new Q(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?je(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gf.exec(t))?new Q(e[1],e[2],e[3],1):(e=_f.exec(t))?new Q(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pf.exec(t))?je(e[1],e[2],e[3],e[4]):(e=mf.exec(t))?je(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vf.exec(t))?ao(e[1],e[2]/100,e[3]/100,1):(e=yf.exec(t))?ao(e[1],e[2]/100,e[3]/100,e[4]):eo.hasOwnProperty(t)?io(eo[t]):t==="transparent"?new Q(NaN,NaN,NaN,0):null}function io(t){return new Q(t>>16&255,t>>8&255,t&255,1)}function je(t,e,n,r){return r<=0&&(t=e=n=NaN),new Q(t,e,n,r)}function bf(t){return t instanceof Ve||(t=Wt(t)),t?(t=t.rgb(),new Q(t.r,t.g,t.b,t.opacity)):new Q}function Sr(t,e,n,r){return arguments.length===1?bf(t):new Q(t,e,n,r??1)}function Q(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ti(Q,Sr,Bs(Ve,{brighter(t){return t=t==null?bn:Math.pow(bn,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ue:Math.pow(Ue,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Q(Ht(this.r),Ht(this.g),Ht(this.b),Sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oo,formatHex:oo,formatHex8:Sf,formatRgb:so,toString:so}));function oo(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}`}function Sf(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}${Pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function so(){const t=Sn(this.opacity);return`${t===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${t===1?")":`, ${t})`}`}function Sn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pt(t){return t=Ht(t),(t<16?"0":"")+t.toString(16)}function ao(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ft(t,e,n,r)}function Vs(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof Ve||(t=Wt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new ft(s,a,u,t.opacity)}function ei(t,e,n,r){return arguments.length===1?Vs(t):new ft(t,e,n,r??1)}function ft(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ti(ft,ei,Bs(Ve,{brighter(t){return t=t==null?bn:Math.pow(bn,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ue:Math.pow(Ue,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Q(sr(t>=240?t-240:t+120,i,r),sr(t,i,r),sr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ft(uo(this.h),tn(this.s),tn(this.l),Sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sn(this.opacity);return`${t===1?"hsl(":"hsla("}${uo(this.h)}, ${tn(this.s)*100}%, ${tn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uo(t){return t=(t||0)%360,t<0?t+360:t}function tn(t){return Math.max(0,Math.min(1,t||0))}function sr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Me=(globalThis==null?void 0:globalThis.UNOVIS_COLORS)||["#4D8CFD","#FF6B7E","#F4B83E","#A6CC74","#00C19A","#6859BE"],Mf=(globalThis==null?void 0:globalThis.UNOVIS_COLORS_DARK)||["#4D8CFD","#FF6B7E","#FFC16D","#A6CC74","#00C19A","#7887E0"],Et=t=>`--vis-${Oe(t)?`color${t%Me.length}`:t}`;function Tf(t,e=.4){const n=ei(t);return n.l=n.l*(1+e),n.formatHex()}function Cf(t,e=.4,n=.6){const r=ei(t);return r.s=r.s*(1-n),r.l=r.l*(1-e),r.formatHex()}const Mn=10,Mr=[{id:"stripes-diagonal",svg:'<path d="M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2" stroke="#000"/>'},{id:"dots",svg:'<path d="m0-1.5a1 1 0 010 3m10-3a1 1 0 000 3M5 3.5a1 1 0 010 3 1 1 0 010-3M0 8.5 a1 1 0 010 3m10-3a1 1 0 000 3" fill"#000"/>'},{id:"stripes-vertical",svg:'<path d="M 5,-1 L5,11" stroke="#000"/>'},{id:"crosshatch",svg:'<path d="M0 0L10 10ZM10 0L0 10Z" stroke="#000"/>'},{id:"waves",svg:'<path d="M0 4Q2.5 1 5 4 7.5 7 10 4v2Q7.5 9 5 6 2.5 3 0 6Z" fill="#000"/>'},{id:"circles",svg:'<circle cx="5" cy="5" r="3" stroke="#000" fill="#fff"/>'}],Tr=[{id:"circle",marker:'<circle cx="5" cy="5" r="5"/>',dashArray:[]},{id:"triangle",marker:'<path d="M5,0 L10,9 L0,9Z">',dashArray:[9,1]},{id:"diamond",marker:'<path d="M 0 5 L5 0 L 10 5 L 5 10 L 0 5Z">',dashArray:[2]},{id:"arrow",marker:'<path d="M4 0 0 0 6 5 0 10 4 10 10 5Z">',dashArray:[2,3,8,3]},{id:"square",marker:'<rect x="1" y="1" width="8" height="8"/>',dashArray:[6]},{id:"star",marker:'<path d="m2 9 3-9 3 9L0 3h10Z"/>',dashArray:[1,6]}];function Dt(t){return`vis-${`pattern-${t.svg?"fill":"marker"}`}-${t.id}`}const kf=t=>`<mask id="${Dt(t)}">
    <pattern id="${t.id}" viewBox="0 0 10 10" width="${Mn}" height="${Mn}" patternUnits="userSpaceOnUse">
      <rect width="100%" height="100%" fill="#fff"/>
      ${t.svg}
    </pattern>
    <rect x="-50%" y="-50%" width="200%" height="200%" fill="url(#${t.id})"/>
  </mask>`,Af=(t,e)=>`<marker id="${Dt(t)}"
    fill="var(${Et(e)})"
    markerUnits="userSpaceOnUse"
    refX="5"
    refY="5"
    markerWidth="${Mn}"
    markerHeight="${Mn}">
    ${t.marker}
  </marker>`;function Nf(){const t=Mr.map(kf).concat(Tr.map(Af)).join(""),e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.style.position="fixed",e.style.zIndex="-99999999",e.innerHTML=`<defs>${t}</defs>`,document.body.appendChild(e)}typeof window<"u"&&Nf();const Ef=(globalThis==null?void 0:globalThis.UNOVIS_FONT_W2H_RATIO_DEFAULT)||.5;Us`
  :root {
    label: vis-root-styles;
    --vis-font-family: Inter, Arial, "Helvetica Neue", Helvetica, sans-serif;
    --vis-font-wh-ratio: ${Ef};
    --vis-color-main: var(${Et(0)});
    --vis-color-main-light: ${Tf(Me[0])};
    --vis-color-main-dark: ${Cf(Me[0])};
    --vis-color-grey: #2a2a2a;
    ${Me.map((t,e)=>`${Et(e)}: ${t};`)}
    ${Mf.map((t,e)=>`--vis-dark-color${e}: ${t};`)}
    ${Mr.map((t,e)=>`
      --${Dt(t)}: url(#${Dt(t)});
      --vis-pattern-fill${e}: var(--${Dt(t)});
    `)}
    ${Tr.map((t,e)=>{var n;return`
      --${Dt(t)}: url(#${Dt(t)});
      --vis-pattern-marker${e}: var(--${Dt(t)});
      --vis-pattern-dasharray${e}: ${(n=t.dashArray)===null||n===void 0?void 0:n.join(" ")};
    `})}

    body.theme-dark {
      ${Me.map((t,e)=>`${Et(e)}: var(--vis-dark-color${e});`)}
    }

    body.theme-patterns {
      ${Mr.map((t,e)=>`path[style*="fill: var(${Et(e)})"]  {
        mask: var(--vis-pattern-fill${e});
      }`)}
      ${Tr.map((t,e)=>`
      path[stroke="var(${Et(e)})"]:not([style*="fill"]),
      path[style*="stroke: var(${Et(e)})"]:not([style*="fill"]) {
        marker: var(--vis-pattern-marker${e});
        stroke-dasharray: var(--vis-pattern-dasharray${e});
      }
    `)}
}
`;var Df={value:()=>{}};function Ws(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cn(n)}function cn(t){this._=t}function Of(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cn.prototype=Ws.prototype={constructor:cn,on:function(t,e){var n=this._,r=Of(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Rf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=co(n[i],t.name,e);else if(e==null)for(i in n)n[i]=co(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Rf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function co(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Df,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ce=0,Te=0,xe=0,qs=1e3,Tn,Ce,Cn=0,qt=0,qn=0,Le=typeof performance=="object"&&performance.now?performance:Date,Xs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ni(){return qt||(Xs($f),qt=Le.now()+qn)}function $f(){qt=0}function kn(){this._call=this._time=this._next=null}kn.prototype=Gs.prototype={constructor:kn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ni():+n)+(e==null?0:+e),!this._next&&Ce!==this&&(Ce?Ce._next=this:Tn=this,Ce=this),this._call=t,this._time=n,Cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cr())}};function Gs(t,e,n){var r=new kn;return r.restart(t,e,n),r}function Ff(){ni(),++ce;for(var t=Tn,e;t;)(e=qt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ce}function lo(){qt=(Cn=Le.now())+qn,ce=Te=0;try{Ff()}finally{ce=0,Pf(),qt=0}}function If(){var t=Le.now(),e=t-Cn;e>qs&&(qn-=e,Cn=t)}function Pf(){for(var t,e=Tn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Tn=n);Ce=t,Cr(r)}function Cr(t){if(!ce){Te&&(Te=clearTimeout(Te));var e=t-qt;e>24?(t<1/0&&(Te=setTimeout(lo,t-Le.now()-qn)),xe&&(xe=clearInterval(xe))):(xe||(Cn=Le.now(),xe=setInterval(If,qs)),ce=1,Xs(lo))}}function fo(t,e,n){var r=new kn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Uf=Ws("start","end","cancel","interrupt"),zf=[],Zs=0,ho=1,kr=2,ln=3,go=4,Ar=5,fn=6;function Xn(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Lf(t,n,{name:e,index:r,group:i,on:Uf,tween:zf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Zs})}function ri(t,e){var n=ht(t,e);if(n.state>Zs)throw new Error("too late; already scheduled");return n}function xt(t,e){var n=ht(t,e);if(n.state>ln)throw new Error("too late; already running");return n}function ht(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Lf(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Gs(o,0,n.time);function o(c){n.state=ho,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var l,f,h,d;if(n.state!==ho)return u();for(l in r)if(d=r[l],d.name===n.name){if(d.state===ln)return fo(s);d.state===go?(d.state=fn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=fn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(fo(function(){n.state===ln&&(n.state=go,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=kr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===kr){for(n.state=ln,i=new Array(h=n.tween.length),l=0,f=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ar,1),f=-1,h=i.length;++f<h;)i[f].call(t,l);n.state===Ar&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=fn,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Qs(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>kr&&r.state<Ar,r.state=fn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Hf(t){return this.each(function(){Qs(this,t)})}const ii=t=>()=>t;function Yf(t,e){return function(n){return t+n*e}}function Bf(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vf(t){return(t=+t)==1?Js:function(e,n){return n-e?Bf(e,n,t):ii(isNaN(e)?n:e)}}function Js(t,e){var n=e-t;return n?Yf(t,n):ii(isNaN(t)?e:t)}const An=function t(e){var n=Vf(e);function r(i,o){var s=n((i=Sr(i)).r,(o=Sr(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),c=Js(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function Wf(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function qf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xf(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=_e(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Gf(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zf(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_e(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ar=new RegExp(Nr.source,"g");function Qf(t){return function(){return t}}function Jf(t){return function(e){return t(e)+""}}function Ks(t,e){var n=Nr.lastIndex=ar.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Nr.exec(t))&&(i=ar.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:lt(r,i)})),n=ar.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Jf(u[0].x):Qf(e):(e=u.length,function(c){for(var l=0,f;l<e;++l)a[(f=u[l]).i]=f.x(c);return a.join("")})}function _e(t,e){var n=typeof e,r;return e==null||n==="boolean"?ii(e):(n==="number"?lt:n==="string"?(r=Wt(e))?(e=r,An):Ks:e instanceof Wt?An:e instanceof Date?Gf:qf(e)?Wf:Array.isArray(e)?Xf:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zf:lt)(t,e)}function oi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var _o=180/Math.PI,Er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function js(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*_o,skewX:Math.atan(u)*_o,scaleX:s,scaleY:a}}var en;function Kf(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Er:js(e.a,e.b,e.c,e.d,e.e,e.f)}function jf(t){return t==null||(en||(en=document.createElementNS("http://www.w3.org/2000/svg","g")),en.setAttribute("transform",t),!(t=en.transform.baseVal.consolidate()))?Er:(t=t.matrix,js(t.a,t.b,t.c,t.d,t.e,t.f))}function ta(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,f,h,d,_){if(c!==f||l!==h){var g=d.push("translate(",null,e,null,n);_.push({i:g-4,x:lt(c,f)},{i:g-2,x:lt(l,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function s(c,l,f,h){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:lt(c,l)})):l&&f.push(i(f)+"rotate("+l+r)}function a(c,l,f,h){c!==l?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:lt(c,l)}):l&&f.push(i(f)+"skewX("+l+r)}function u(c,l,f,h,d,_){if(c!==f||l!==h){var g=d.push(i(d)+"scale(",null,",",null,")");_.push({i:g-4,x:lt(c,f)},{i:g-2,x:lt(l,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(c,l){var f=[],h=[];return c=t(c),l=t(l),o(c.translateX,c.translateY,l.translateX,l.translateY,f,h),s(c.rotate,l.rotate,f,h),a(c.skewX,l.skewX,f,h),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,f,h),c=l=null,function(d){for(var _=-1,g=h.length,p;++_<g;)f[(p=h[_]).i]=p.x(d);return f.join("")}}}var th=ta(Kf,"px, ","px)","deg)"),eh=ta(jf,", ",")",")");function nh(t,e){e===void 0&&(e=t,t=_e);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function rh(t,e){var n,r;return function(){var i=xt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ih(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=xt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function oh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ht(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?rh:ih)(n,t,e))}function si(t,e,n){var r=t._id;return t.each(function(){var i=xt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ht(i,r).value[e]}}function ea(t,e){var n;return(typeof e=="number"?lt:e instanceof Wt?An:(n=Wt(e))?(e=n,An):Ks)(t,e)}function sh(t){return function(){this.removeAttribute(t)}}function ah(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uh(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function ch(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function lh(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function fh(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function hh(t,e){var n=Hn(t),r=n==="transform"?eh:ea;return this.attrTween(t,typeof e=="function"?(n.local?fh:lh)(n,r,si(this,"attr."+t,e)):e==null?(n.local?ah:sh)(n):(n.local?ch:uh)(n,r,e))}function dh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function gh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _h(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&gh(t,o)),n}return i._value=e,i}function ph(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&dh(t,o)),n}return i._value=e,i}function mh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Hn(t);return this.tween(n,(r.local?_h:ph)(r,e))}function vh(t,e){return function(){ri(this,t).delay=+e.apply(this,arguments)}}function yh(t,e){return e=+e,function(){ri(this,t).delay=e}}function xh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vh:yh)(e,t)):ht(this.node(),e).delay}function wh(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function bh(t,e){return e=+e,function(){xt(this,t).duration=e}}function Sh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wh:bh)(e,t)):ht(this.node(),e).duration}function Mh(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function Th(t){var e=this._id;return arguments.length?this.each(Mh(e,t)):ht(this.node(),e).ease}function Ch(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,t).ease=n}}function kh(t){if(typeof t!="function")throw new Error;return this.each(Ch(this._id,t))}function Ah(t){typeof t!="function"&&(t=us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new Ct(r,this._parents,this._name,this._id)}function Nh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],c=n[a],l=u.length,f=s[a]=new Array(l),h,d=0;d<l;++d)(h=u[d]||c[d])&&(f[d]=h);for(;a<r;++a)s[a]=e[a];return new Ct(s,this._parents,this._name,this._id)}function Eh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Dh(t,e,n){var r,i,o=Eh(e)?ri:xt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Oh(t,e){var n=this._id;return arguments.length<2?ht(this.node(),n).on.on(t):this.each(Dh(n,t,e))}function Rh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $h(){return this.on("end.remove",Rh(this._id))}function Fh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),l,f,h=0;h<u;++h)(l=a[h])&&(f=t.call(l,l.__data__,h,a))&&("__data__"in l&&(f.__data__=l.__data__),c[h]=f,Xn(c[h],e,n,h,c,ht(l,n)));return new Ct(o,this._parents,e,n)}function Ih(t){var e=this._name,n=this._id;typeof t!="function"&&(t=as(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,l,f=0;f<c;++f)if(l=u[f]){for(var h=t.call(l,l.__data__,f,u),d,_=ht(l,n),g=0,p=h.length;g<p;++g)(d=h[g])&&Xn(d,e,n,g,h,_);o.push(h),s.push(l)}return new Ct(o,s,e,n)}var Ph=Ye.prototype.constructor;function Uh(){return new Ph(this._groups,this._parents)}function zh(t,e){var n,r,i;return function(){var o=se(this,t),s=(this.style.removeProperty(t),se(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function na(t){return function(){this.style.removeProperty(t)}}function Lh(t,e,n){var r,i=n+"",o;return function(){var s=se(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Hh(t,e,n){var r,i,o;return function(){var s=se(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),se(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Yh(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=xt(this,t),c=u.on,l=u.value[o]==null?a||(a=na(e)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(s,i=l),u.on=r}}function Bh(t,e,n){var r=(t+="")=="transform"?th:ea;return e==null?this.styleTween(t,zh(t,r)).on("end.style."+t,na(t)):typeof e=="function"?this.styleTween(t,Hh(t,r,si(this,"style."+t,e))).each(Yh(this._id,t)):this.styleTween(t,Lh(t,r,e),n).on("end.style."+t,null)}function Vh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Wh(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Vh(t,s,n)),r}return o._value=e,o}function qh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Wh(t,e,n??""))}function Xh(t){return function(){this.textContent=t}}function Gh(t){return function(){var e=t(this);this.textContent=e??""}}function Zh(t){return this.tween("text",typeof t=="function"?Gh(si(this,"text",t)):Xh(t==null?"":t+""))}function Qh(t){return function(e){this.textContent=t.call(this,e)}}function Jh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Qh(i)),e}return r._value=t,r}function Kh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Jh(t))}function jh(){for(var t=this._name,e=this._id,n=ra(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var l=ht(u,e);Xn(u,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ct(r,this._parents,t,n)}function t0(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var c=xt(this,r),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),c.on=e}),i===0&&o()})}var e0=0;function Ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ra(){return++e0}var bt=Ye.prototype;Ct.prototype={constructor:Ct,select:Fh,selectAll:Ih,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:Ah,merge:Nh,selection:Uh,transition:jh,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:Oh,attr:hh,attrTween:mh,style:Bh,styleTween:qh,text:Zh,textTween:Kh,remove:$h,tween:oh,delay:xh,duration:Sh,ease:Th,easeVarying:kh,end:t0,[Symbol.iterator]:bt[Symbol.iterator]};function n0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var r0={time:null,delay:0,duration:250,ease:n0};function i0(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function o0(t){var e,n;t instanceof Ct?(e=t._id,t=t._name):(e=ra(),(n=r0).time=ni(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&Xn(u,t,e,c,s,n||i0(u,e));return new Ct(r,this._parents,t,e)}Ye.prototype.interrupt=Hf;Ye.prototype.transition=o0;function po(t,e,n){return t.nodes().forEach(r=>Qs(r)),e?t.transition().duration(e):t}class ai{constructor(e){this.data=e}get data(){return this._data}set data(e){this._data=e}}var Nn;(function(t){t.X="x",t.Y="y"})(Nn||(Nn={}));function dt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ia(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mo=Symbol("implicit");function ui(){var t=new Di,e=[],n=[],r=mo;function i(o){let s=t.get(o);if(s===void 0){if(r!==mo)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Di;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ui(e,n).unknown(r)},dt.apply(i,arguments),i}function ci(){var t=ui().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,u=0,c=0,l=.5;delete t.unknown;function f(){var h=e().length,d=i<r,_=d?i:r,g=d?r:i;o=(g-_)/Math.max(1,h-u+c*2),a&&(o=Math.floor(o)),_+=(g-_-o*(h-u))*l,s=o*(1-u),a&&(_=Math.round(_),s=Math.round(s));var p=Kc(h).map(function(v){return _+o*v});return n(d?p.reverse():p)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),f()):l},t.copy=function(){return ci(e(),[r,i]).round(a).paddingInner(u).paddingOuter(c).align(l)},dt.apply(f(),arguments)}function oa(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oa(e())},t}function s0(){return oa(ci.apply(null,arguments).paddingInner(1))}function a0(t){return function(){return t}}function Dr(t){return+t}var vo=[0,1];function J(t){return t}function Or(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:a0(isNaN(e)?NaN:.5)}function u0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function c0(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Or(i,r),o=n(s,o)):(r=Or(r,i),o=n(o,s)),function(a){return o(r(a))}}function l0(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Or(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=Yn(t,a,1,r)-1;return o[u](i[u](a))}}function We(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gn(){var t=vo,e=vo,n=_e,r,i,o,s=J,a,u,c;function l(){var h=Math.min(t.length,e.length);return s!==J&&(s=u0(t[0],t[h-1])),a=h>2?l0:c0,u=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),lt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Dr),l()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=oi,l()},f.clamp=function(h){return arguments.length?(s=h?!0:J,l()):s!==J},f.interpolate=function(h){return arguments.length?(n=h,l()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,l()}}function sa(){return Gn()(J,J)}function f0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function En(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function le(t){return t=En(Math.abs(t)),t?t[1]:NaN}function h0(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function d0(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var g0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function He(t){if(!(e=g0.exec(t)))throw new Error("invalid format: "+t);var e;return new li({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}He.prototype=li.prototype;function li(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}li.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _0(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aa;function p0(t,e){var n=En(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(aa=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+En(t,Math.max(0,e+o-1))[0]}function yo(t,e){var n=En(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xo={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:f0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yo(t*100,e),r:yo,s:p0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wo(t){return t}var bo=Array.prototype.map,So=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function m0(t){var e=t.grouping===void 0||t.thousands===void 0?wo:h0(bo.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wo:d0(bo.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(f){f=He(f);var h=f.fill,d=f.align,_=f.sign,g=f.symbol,p=f.zero,v=f.width,y=f.comma,w=f.precision,T=f.trim,M=f.type;M==="n"?(y=!0,M="g"):xo[M]||(w===void 0&&(w=12),T=!0,M="g"),(p||h==="0"&&d==="=")&&(p=!0,h="0",d="=");var x=g==="$"?n:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",S=g==="$"?r:/[%p]/.test(M)?s:"",U=xo[M],it=/[defgprs%]/.test(M);w=w===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function gt(C){var H=x,B=S,ot,_t,I;if(M==="c")B=U(C)+B,C="";else{C=+C;var wt=C<0||1/C<0;if(C=isNaN(C)?u:U(Math.abs(C),w),T&&(C=_0(C)),wt&&+C==0&&_!=="+"&&(wt=!1),H=(wt?_==="("?_:a:_==="-"||_==="("?"":_)+H,B=(M==="s"?So[8+aa/3]:"")+B+(wt&&_==="("?")":""),it){for(ot=-1,_t=C.length;++ot<_t;)if(I=C.charCodeAt(ot),48>I||I>57){B=(I===46?i+C.slice(ot+1):C.slice(ot))+B,C=C.slice(0,ot);break}}}y&&!p&&(C=e(C,1/0));var ct=H.length+C.length+B.length,W=ct<v?new Array(v-ct+1).join(h):"";switch(y&&p&&(C=e(W+C,W.length?v-B.length:1/0),W=""),d){case"<":C=H+C+B+W;break;case"=":C=H+W+C+B;break;case"^":C=W.slice(0,ct=W.length>>1)+H+C+B+W.slice(ct);break;default:C=W+H+C+B;break}return o(C)}return gt.toString=function(){return f+""},gt}function l(f,h){var d=c((f=He(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(le(h)/3)))*3,g=Math.pow(10,-_),p=So[8+_/3];return function(v){return d(g*v)+p}}return{format:c,formatPrefix:l}}var nn,fi,ua;v0({thousands:",",grouping:[3],currency:["$",""]});function v0(t){return nn=m0(t),fi=nn.format,ua=nn.formatPrefix,nn}function y0(t){return Math.max(0,-le(Math.abs(t)))}function x0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(le(e)/3)))*3-le(Math.abs(t)))}function w0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,le(e)-le(t))+1}function b0(t,e,n,r){var i=vr(t,e,n),o;switch(r=He(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=x0(i,s))&&(r.precision=o),ua(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=w0(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=y0(i))&&(r.precision=o-(r.type==="%")*2);break}}return fi(r)}function Xt(t){var e=t.domain;return t.ticks=function(n){var r=e();return pr(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return b0(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,c,l=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);l-- >0;){if(c=mr(s,a,n),c===u)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;u=c}return t},t}function ca(){var t=sa();return t.copy=function(){return We(t,ca())},dt.apply(t,arguments),Xt(t)}function la(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Dr),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return la(t).unknown(e)},t=arguments.length?Array.from(t,Dr):[0,1],Xt(n)}function fa(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Mo(t){return Math.log(t)}function To(t){return Math.exp(t)}function S0(t){return-Math.log(-t)}function M0(t){return-Math.exp(-t)}function T0(t){return isFinite(t)?+("1e"+t):t<0?0:t}function C0(t){return t===10?T0:t===Math.E?Math.exp:e=>Math.pow(t,e)}function k0(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Co(t){return(e,n)=>-t(-e,n)}function A0(t){const e=t(Mo,To),n=e.domain;let r=10,i,o;function s(){return i=k0(r),o=C0(r),n()[0]<0?(i=Co(i),o=Co(o),t(S0,M0)):t(Mo,To),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const u=n();let c=u[0],l=u[u.length-1];const f=l<c;f&&([c,l]=[l,c]);let h=i(c),d=i(l),_,g;const p=a==null?10:+a;let v=[];if(!(r%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(_=1;_<r;++_)if(g=h<0?_/o(-h):_*o(h),!(g<c)){if(g>l)break;v.push(g)}}else for(;h<=d;++h)for(_=r-1;_>=1;--_)if(g=h>0?_/o(-h):_*o(h),!(g<c)){if(g>l)break;v.push(g)}v.length*2<p&&(v=pr(c,l,p))}else v=pr(h,d,Math.min(d-h,p)).map(o);return f?v.reverse():v},e.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=He(u)).precision==null&&(u.trim=!0),u=fi(u)),a===1/0)return u;const c=Math.max(1,r*a/e.ticks().length);return l=>{let f=l/o(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=c?u(l):""}},e.nice=()=>n(fa(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function ha(){const t=A0(Gn()).domain([1,10]);return t.copy=()=>We(t,ha()).base(t.base()),dt.apply(t,arguments),t}function ko(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ao(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function N0(t){var e=1,n=t(ko(e),Ao(e));return n.constant=function(r){return arguments.length?t(ko(e=+r),Ao(e)):e},Xt(n)}function da(){var t=N0(Gn());return t.copy=function(){return We(t,da()).constant(t.constant())},dt.apply(t,arguments)}function No(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function E0(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function D0(t){return t<0?-t*t:t*t}function O0(t){var e=t(J,J),n=1;function r(){return n===1?t(J,J):n===.5?t(E0,D0):t(No(n),No(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Xt(e)}function hi(){var t=O0(Gn());return t.copy=function(){return We(t,hi()).exponent(t.exponent())},dt.apply(t,arguments),t}function R0(){return hi.apply(null,arguments).exponent(.5)}function ga(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Zc(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Yn(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ne),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ga().domain(t).range(e).unknown(r)},dt.apply(o,arguments)}function _a(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[Yn(r,u,0,n)]:o}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,a()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return _a().domain([t,e]).range(i).unknown(o)},dt.apply(Xt(s),arguments)}function pa(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Yn(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return pa().domain(t).range(e).unknown(n)},dt.apply(i,arguments)}const ur=new Date,cr=new Date;function L(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const u=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return u;let c;do u.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return u},i.filter=o=>L(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ur.setTime(+o),cr.setTime(+s),t(ur),t(cr),Math.floor(n(ur,cr))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Dn=L(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dn.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?L(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dn);Dn.range;const St=1e3,ut=St*60,Mt=ut*60,kt=Mt*24,di=kt*7,Eo=kt*30,lr=kt*365,Ut=L(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getUTCSeconds());Ut.range;const gi=L(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*St)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getMinutes());gi.range;const _i=L(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getUTCMinutes());_i.range;const pi=L(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*St-t.getMinutes()*ut)},(t,e)=>{t.setTime(+t+e*Mt)},(t,e)=>(e-t)/Mt,t=>t.getHours());pi.range;const mi=L(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mt)},(t,e)=>(e-t)/Mt,t=>t.getUTCHours());mi.range;const qe=L(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ut)/kt,t=>t.getDate()-1);qe.range;const Zn=L(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kt,t=>t.getUTCDate()-1);Zn.range;const ma=L(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kt,t=>Math.floor(t/kt));ma.range;function Gt(t){return L(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ut)/di)}const Qn=Gt(0),On=Gt(1),$0=Gt(2),F0=Gt(3),fe=Gt(4),I0=Gt(5),P0=Gt(6);Qn.range;On.range;$0.range;F0.range;fe.range;I0.range;P0.range;function Zt(t){return L(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/di)}const Jn=Zt(0),Rn=Zt(1),U0=Zt(2),z0=Zt(3),he=Zt(4),L0=Zt(5),H0=Zt(6);Jn.range;Rn.range;U0.range;z0.range;he.range;L0.range;H0.range;const vi=L(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vi.range;const yi=L(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yi.range;const At=L(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());At.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:L(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});At.range;const Nt=L(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:L(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Nt.range;function va(t,e,n,r,i,o){const s=[[Ut,1,St],[Ut,5,5*St],[Ut,15,15*St],[Ut,30,30*St],[o,1,ut],[o,5,5*ut],[o,15,15*ut],[o,30,30*ut],[i,1,Mt],[i,3,3*Mt],[i,6,6*Mt],[i,12,12*Mt],[r,1,kt],[r,2,2*kt],[n,1,di],[e,1,Eo],[e,3,3*Eo],[t,1,lr]];function a(c,l,f){const h=l<c;h&&([c,l]=[l,c]);const d=f&&typeof f.range=="function"?f:u(c,l,f),_=d?d.range(c,+l+1):[];return h?_.reverse():_}function u(c,l,f){const h=Math.abs(l-c)/f,d=qr(([,,p])=>p).right(s,h);if(d===s.length)return t.every(vr(c/lr,l/lr,f));if(d===0)return Dn.every(Math.max(vr(c,l,f),1));const[_,g]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return _.every(g)}return[a,u]}const[Y0,B0]=va(Nt,yi,Jn,ma,mi,_i),[V0,W0]=va(At,vi,Qn,qe,pi,gi);function fr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function we(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function q0(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,c=be(i),l=Se(i),f=be(o),h=Se(o),d=be(s),_=Se(s),g=be(a),p=Se(a),v=be(u),y=Se(u),w={a:wt,A:ct,b:W,B:Qt,c:null,d:Io,e:Io,f:_d,g:Td,G:kd,H:hd,I:dd,j:gd,L:ya,m:pd,M:md,p:Xe,q:Ge,Q:zo,s:Lo,S:vd,u:yd,U:xd,V:wd,w:bd,W:Sd,x:null,X:null,y:Md,Y:Cd,Z:Ad,"%":Uo},T={a:Va,A:Wa,b:qa,B:Xa,c:null,d:Po,e:Po,f:Od,g:Yd,G:Vd,H:Nd,I:Ed,j:Dd,L:wa,m:Rd,M:$d,p:Ga,q:Za,Q:zo,s:Lo,S:Fd,u:Id,U:Pd,V:Ud,w:zd,W:Ld,x:null,X:null,y:Hd,Y:Bd,Z:Wd,"%":Uo},M={a:gt,A:C,b:H,B,c:ot,d:$o,e:$o,f:ud,g:Ro,G:Oo,H:Fo,I:Fo,j:id,L:ad,m:rd,M:od,p:it,q:nd,Q:ld,s:fd,S:sd,u:J0,U:K0,V:j0,w:Q0,W:td,x:_t,X:I,y:Ro,Y:Oo,Z:ed,"%":cd};w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),T.x=x(n,T),T.X=x(r,T),T.c=x(e,T);function x(b,k){return function(A){var m=[],X=-1,O=0,j=b.length,tt,$t,Ti;for(A instanceof Date||(A=new Date(+A));++X<j;)b.charCodeAt(X)===37&&(m.push(b.slice(O,X)),($t=Do[tt=b.charAt(++X)])!=null?tt=b.charAt(++X):$t=tt==="e"?" ":"0",(Ti=k[tt])&&(tt=Ti(A,$t)),m.push(tt),O=X+1);return m.push(b.slice(O,X)),m.join("")}}function S(b,k){return function(A){var m=we(1900,void 0,1),X=U(m,b,A+="",0),O,j;if(X!=A.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(k&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(O=hr(we(m.y,0,1)),j=O.getUTCDay(),O=j>4||j===0?Rn.ceil(O):Rn(O),O=Zn.offset(O,(m.V-1)*7),m.y=O.getUTCFullYear(),m.m=O.getUTCMonth(),m.d=O.getUTCDate()+(m.w+6)%7):(O=fr(we(m.y,0,1)),j=O.getDay(),O=j>4||j===0?On.ceil(O):On(O),O=qe.offset(O,(m.V-1)*7),m.y=O.getFullYear(),m.m=O.getMonth(),m.d=O.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),j="Z"in m?hr(we(m.y,0,1)).getUTCDay():fr(we(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(j+5)%7:m.w+m.U*7-(j+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,hr(m)):fr(m)}}function U(b,k,A,m){for(var X=0,O=k.length,j=A.length,tt,$t;X<O;){if(m>=j)return-1;if(tt=k.charCodeAt(X++),tt===37){if(tt=k.charAt(X++),$t=M[tt in Do?k.charAt(X++):tt],!$t||(m=$t(b,A,m))<0)return-1}else if(tt!=A.charCodeAt(m++))return-1}return m}function it(b,k,A){var m=c.exec(k.slice(A));return m?(b.p=l.get(m[0].toLowerCase()),A+m[0].length):-1}function gt(b,k,A){var m=d.exec(k.slice(A));return m?(b.w=_.get(m[0].toLowerCase()),A+m[0].length):-1}function C(b,k,A){var m=f.exec(k.slice(A));return m?(b.w=h.get(m[0].toLowerCase()),A+m[0].length):-1}function H(b,k,A){var m=v.exec(k.slice(A));return m?(b.m=y.get(m[0].toLowerCase()),A+m[0].length):-1}function B(b,k,A){var m=g.exec(k.slice(A));return m?(b.m=p.get(m[0].toLowerCase()),A+m[0].length):-1}function ot(b,k,A){return U(b,e,k,A)}function _t(b,k,A){return U(b,n,k,A)}function I(b,k,A){return U(b,r,k,A)}function wt(b){return s[b.getDay()]}function ct(b){return o[b.getDay()]}function W(b){return u[b.getMonth()]}function Qt(b){return a[b.getMonth()]}function Xe(b){return i[+(b.getHours()>=12)]}function Ge(b){return 1+~~(b.getMonth()/3)}function Va(b){return s[b.getUTCDay()]}function Wa(b){return o[b.getUTCDay()]}function qa(b){return u[b.getUTCMonth()]}function Xa(b){return a[b.getUTCMonth()]}function Ga(b){return i[+(b.getUTCHours()>=12)]}function Za(b){return 1+~~(b.getUTCMonth()/3)}return{format:function(b){var k=x(b+="",w);return k.toString=function(){return b},k},parse:function(b){var k=S(b+="",!1);return k.toString=function(){return b},k},utcFormat:function(b){var k=x(b+="",T);return k.toString=function(){return b},k},utcParse:function(b){var k=S(b+="",!0);return k.toString=function(){return b},k}}}var Do={"-":"",_:" ",0:"0"},Y=/^\s*\d+/,X0=/^%/,G0=/[\\^$*+?|[\]().{}]/g;function N(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Z0(t){return t.replace(G0,"\\$&")}function be(t){return new RegExp("^(?:"+t.map(Z0).join("|")+")","i")}function Se(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Q0(t,e,n){var r=Y.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function J0(t,e,n){var r=Y.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function K0(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function j0(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function td(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Oo(t,e,n){var r=Y.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ro(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ed(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nd(t,e,n){var r=Y.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rd(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $o(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function id(t,e,n){var r=Y.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fo(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function od(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sd(t,e,n){var r=Y.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ad(t,e,n){var r=Y.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ud(t,e,n){var r=Y.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cd(t,e,n){var r=X0.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ld(t,e,n){var r=Y.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fd(t,e,n){var r=Y.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Io(t,e){return N(t.getDate(),e,2)}function hd(t,e){return N(t.getHours(),e,2)}function dd(t,e){return N(t.getHours()%12||12,e,2)}function gd(t,e){return N(1+qe.count(At(t),t),e,3)}function ya(t,e){return N(t.getMilliseconds(),e,3)}function _d(t,e){return ya(t,e)+"000"}function pd(t,e){return N(t.getMonth()+1,e,2)}function md(t,e){return N(t.getMinutes(),e,2)}function vd(t,e){return N(t.getSeconds(),e,2)}function yd(t){var e=t.getDay();return e===0?7:e}function xd(t,e){return N(Qn.count(At(t)-1,t),e,2)}function xa(t){var e=t.getDay();return e>=4||e===0?fe(t):fe.ceil(t)}function wd(t,e){return t=xa(t),N(fe.count(At(t),t)+(At(t).getDay()===4),e,2)}function bd(t){return t.getDay()}function Sd(t,e){return N(On.count(At(t)-1,t),e,2)}function Md(t,e){return N(t.getFullYear()%100,e,2)}function Td(t,e){return t=xa(t),N(t.getFullYear()%100,e,2)}function Cd(t,e){return N(t.getFullYear()%1e4,e,4)}function kd(t,e){var n=t.getDay();return t=n>=4||n===0?fe(t):fe.ceil(t),N(t.getFullYear()%1e4,e,4)}function Ad(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+N(e/60|0,"0",2)+N(e%60,"0",2)}function Po(t,e){return N(t.getUTCDate(),e,2)}function Nd(t,e){return N(t.getUTCHours(),e,2)}function Ed(t,e){return N(t.getUTCHours()%12||12,e,2)}function Dd(t,e){return N(1+Zn.count(Nt(t),t),e,3)}function wa(t,e){return N(t.getUTCMilliseconds(),e,3)}function Od(t,e){return wa(t,e)+"000"}function Rd(t,e){return N(t.getUTCMonth()+1,e,2)}function $d(t,e){return N(t.getUTCMinutes(),e,2)}function Fd(t,e){return N(t.getUTCSeconds(),e,2)}function Id(t){var e=t.getUTCDay();return e===0?7:e}function Pd(t,e){return N(Jn.count(Nt(t)-1,t),e,2)}function ba(t){var e=t.getUTCDay();return e>=4||e===0?he(t):he.ceil(t)}function Ud(t,e){return t=ba(t),N(he.count(Nt(t),t)+(Nt(t).getUTCDay()===4),e,2)}function zd(t){return t.getUTCDay()}function Ld(t,e){return N(Rn.count(Nt(t)-1,t),e,2)}function Hd(t,e){return N(t.getUTCFullYear()%100,e,2)}function Yd(t,e){return t=ba(t),N(t.getUTCFullYear()%100,e,2)}function Bd(t,e){return N(t.getUTCFullYear()%1e4,e,4)}function Vd(t,e){var n=t.getUTCDay();return t=n>=4||n===0?he(t):he.ceil(t),N(t.getUTCFullYear()%1e4,e,4)}function Wd(){return"+0000"}function Uo(){return"%"}function zo(t){return+t}function Lo(t){return Math.floor(+t/1e3)}var Jt,Sa,Ma;qd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qd(t){return Jt=q0(t),Sa=Jt.format,Jt.parse,Ma=Jt.utcFormat,Jt.utcParse,Jt}function Xd(t){return new Date(t)}function Gd(t){return t instanceof Date?+t:+new Date(+t)}function xi(t,e,n,r,i,o,s,a,u,c){var l=sa(),f=l.invert,h=l.domain,d=c(".%L"),_=c(":%S"),g=c("%I:%M"),p=c("%I %p"),v=c("%a %d"),y=c("%b %d"),w=c("%B"),T=c("%Y");function M(x){return(u(x)<x?d:a(x)<x?_:s(x)<x?g:o(x)<x?p:r(x)<x?i(x)<x?v:y:n(x)<x?w:T)(x)}return l.invert=function(x){return new Date(f(x))},l.domain=function(x){return arguments.length?h(Array.from(x,Gd)):h().map(Xd)},l.ticks=function(x){var S=h();return t(S[0],S[S.length-1],x??10)},l.tickFormat=function(x,S){return S==null?M:c(S)},l.nice=function(x){var S=h();return(!x||typeof x.range!="function")&&(x=e(S[0],S[S.length-1],x??10)),x?h(fa(S,x)):l},l.copy=function(){return We(l,xi(t,e,n,r,i,o,s,a,u,c))},l}function Zd(){return dt.apply(xi(V0,W0,At,vi,Qn,qe,pi,gi,Ut,Sa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qd(){return dt.apply(xi(Y0,B0,Nt,yi,Jn,Zn,mi,_i,Ut,Ma).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jd(){var t=0,e=1,n,r,i,o,s=J,a=!1,u;function c(f){return f==null||isNaN(f=+f)?u:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function l(f){return function(h){var d,_;return arguments.length?([d,_]=h,s=f(d,_),c):[s(0),s(1)]}}return c.range=l(_e),c.rangeRound=l(oi),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ta(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ca(){var t=Xt(Jd()(J));return t.copy=function(){return Ta(t,Ca())},ia.apply(t,arguments)}function Kd(){var t=0,e=.5,n=1,r=1,i,o,s,a,u,c=J,l,f=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+l(g))-o)*(r*g<r*o?a:u),c(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e,n]=g,i=l(t=+t),o=l(e=+e),s=l(n=+n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(c=g,d):c};function _(g){return function(p){var v,y,w;return arguments.length?([v,y,w]=p,c=nh(g,[v,y,w]),d):[c(0),c(.5),c(1)]}}return d.range=_(_e),d.rangeRound=_(oi),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return l=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,d}}function ka(){var t=Xt(Kd()(J));return t.copy=function(){return Ta(t,ka())},ia.apply(t,arguments)}const Ho={scaleLinear:ca,scalePow:hi,scaleSqrt:R0,scaleLog:ha,scaleSymlog:da,scaleIdentity:la,scaleTime:Zd,scaleUtc:Qd,scaleSequential:Ca,scaleDiverging:ka,scaleQuantize:_a,scaleQuantile:ga,scaleThreshold:pa,scaleOrdinal:ui,scaleBand:ci,scalePoint:s0};var P;(function(t){t.X="x",t.Y="y"})(P||(P={}));var Yt;(function(t){t.West="west",t.East="east",t.North="north",t.South="south"})(Yt||(Yt={}));const jd=Object.assign(Object.assign({},ks),{components:[],tooltip:void 0,crosshair:void 0,annotations:void 0,xAxis:void 0,yAxis:void 0,autoMargin:!0,xScale:void 0,xDomain:void 0,xDomainMinConstraint:void 0,xDomainMaxConstraint:void 0,xRange:void 0,yScale:void 0,yDomain:void 0,yDomainMinConstraint:void 0,yDomainMaxConstraint:void 0,yRange:void 0,yDirection:Yt.North,preventEmptyDomain:null,scaleByDomain:!1});class tg extends Fe{constructor(e,n,r){var i,o;super(e),this._defaultConfig=jd,this.datamodel=new ai,this.config=this._defaultConfig,this._clipPathId=Ys(),this._axisMargin={top:0,bottom:0,left:0,right:0},this._firstRender=!0,this._clipPath=this.svg.append("clipPath").attr("id",this._clipPathId),this._clipPath.append("rect");const s="saturate",a=window.location.href.replace(window.location.hash,"");this.svg.attr("class",ge`
      --highlight-filter-id: url(${a}#${s}); // defining a css variable
    `),this._svgDefs.append("filter").attr("id",s).attr("filterUnits","objectBoundingBox").html('<feColorMatrix type="saturate" in="SourceGraphic" values="1.35"/>'),n&&this.updateContainer(n,!0),r&&this.setData(r,!0),(this.config.xAxis||this.config.yAxis||!((i=this.components)===null||i===void 0)&&i.some(u=>u.datamodel.data))&&this.render(),(o=document.fonts)===null||o===void 0||o.ready.then(()=>{this._firstRender||this._renderAxes(0)})}get components(){return this.config.components}get width(){const e=this._getMargin();return te(this.containerWidth-e.left-e.right,0,Number.POSITIVE_INFINITY)}get height(){const e=this._getMargin();return te(this.containerHeight-e.top-e.bottom,0,Number.POSITIVE_INFINITY)}setData(e,n){var r,i,o,s;const{components:a,config:u}=this;e&&(this.datamodel.data=e,a.forEach(c=>{c.setData(e)}),(r=u.crosshair)===null||r===void 0||r.setData(e),(i=u.xAxis)===null||i===void 0||i.setData(e),(o=u.yAxis)===null||o===void 0||o.setData(e),(s=u.tooltip)===null||s===void 0||s.hide(),n||this.render())}updateContainer(e,n){super.updateContainer(e),this._removeAllChildren(),this.setData(this.datamodel.data,!0),e.xAxis&&(this.config.xAxis.config.type=Nn.X,this.element.appendChild(e.xAxis.element)),e.yAxis&&(this.config.yAxis.config.type=Nn.Y,this.element.appendChild(e.yAxis.element));for(const s of this.components)this.element.appendChild(s.element);const r=e.tooltip;r&&(r.hasContainer()||r.setContainer(this._container),r.setComponents(this.components));const i=e.crosshair;i&&(i.setContainer(this.svg),i.tooltip=r,this.element.appendChild(i.element));const o=e.annotations;o&&this.element.appendChild(o.element),this.element.appendChild(this._clipPath.node()),this.element.appendChild(this._svgDefs.node()),n||this.render()}updateComponents(e,n){const{config:r}=this;this.components.forEach((i,o)=>{e[o]&&i.setConfig(e[o])}),this._updateScales(...this.components,r.xAxis,r.yAxis,r.crosshair),n||this.render()}update(e,n,r){r&&(this.datamodel.data=r),e&&this.updateContainer(e,!0),n&&this.updateComponents(n,!0),this.render()}_preRender(){const{config:e}=this;super._preRender(),e.autoMargin&&this._setAutoMargin();const n=me([...this.components,e.xAxis,e.yAxis,e.crosshair,e.annotations]);for(const r of n)r.setSize(this.width,this.height,this.containerWidth,this.containerHeight);this._updateScales(...this.components,e.xAxis,e.yAxis,e.crosshair)}_render(e){var n,r,i,o,s;const{config:a}=this;super._render();const u=this._getMargin();for(const f of this.components)f.g.attr("transform",`translate(${u.left},${u.top})`).style("clip-path",f.clippable?`url(#${this._clipPathId})`:null).style("-webkit-clip-path",f.clippable?`url(#${this._clipPathId})`:null),f.render(e);this._renderAxes(this._firstRender?0:e);const c=2;this._clipPath.select("rect").attr("x",-c).attr("y",-c).attr("width",this.width+2*c).attr("height",this.height+2*c),(n=a.tooltip)===null||n===void 0||n.update();const l=a.crosshair;if(l){const f=this.components.filter(g=>!g.stacked).map(g=>g.config.y),h=this.components.filter(g=>g.stacked).map(g=>g.config.y),d=(r=this.components.find(g=>g.config.baseline))===null||r===void 0?void 0:r.config,_=d==null?void 0:d.baseline;l.accessors={x:(i=this.components[0])===null||i===void 0?void 0:i.config.x,y:Ii(f),yStacked:Ii(h),baseline:_},l.g.attr("transform",`translate(${u.left},${u.top})`).style("clip-path",`url(#${this._clipPathId})`).style("-webkit-clip-path",`url(#${this._clipPathId})`),l.hide()}(o=a.annotations)===null||o===void 0||o.g.attr("transform",`translate(${u.left},${u.top})`),(s=a.annotations)===null||s===void 0||s.render(),this._firstRender=!1}_updateScales(...e){const n=me(e||this.components);this._setScales(...n),this._updateScalesDomain(...n),this._updateScalesRange(...n)}_setScales(...e){const{config:n}=this;e&&(n.xScale&&e.forEach(r=>r.setScale(P.X,n.xScale)),n.yScale&&e.forEach(r=>r.setScale(P.Y,n.yScale)))}_updateScalesDomain(...e){const{config:n}=this;if(!e)return;const r=e.filter(i=>!i.config.excludeFromDomainCalculation);Object.values(P).forEach(i=>{var o,s,a,u,c,l,f,h;const[d,_]=Yc(Jc(r.map(M=>M.getDataExtent(i,n.scaleByDomain)))),g=i===P.Y?n.yDomain:n.xDomain,p=i===P.Y?n.yDomainMinConstraint:n.xDomainMinConstraint,v=i===P.Y?n.yDomainMaxConstraint:n.xDomainMaxConstraint,y=(s=(o=g==null?void 0:g[0])!==null&&o!==void 0?o:d)!==null&&s!==void 0?s:0,w=(u=(a=g==null?void 0:g[1])!==null&&a!==void 0?a:_)!==null&&u!==void 0?u:1,T=[te(y,(c=p==null?void 0:p[0])!==null&&c!==void 0?c:Number.NEGATIVE_INFINITY,(l=p==null?void 0:p[1])!==null&&l!==void 0?l:Number.POSITIVE_INFINITY),te(w,(f=v==null?void 0:v[0])!==null&&f!==void 0?f:Number.NEGATIVE_INFINITY,(h=v==null?void 0:v[1])!==null&&h!==void 0?h:Number.POSITIVE_INFINITY)];if(T[0]===T[1]){const M=r.some(x=>{var S;return((S=x.datamodel.data)===null||S===void 0?void 0:S.length)>0});(n.preventEmptyDomain||n.preventEmptyDomain===null&&(!M||i===P.Y))&&(T[1]=T[0]+1)}e.forEach(M=>M.setScaleDomain(i,T))})}_updateScalesRange(...e){var n,r,i,o,s,a;const{config:u}=this;if(!e)return;const c=u.yDirection===Yt.South,l=[(n=u.padding.left)!==null&&n!==void 0?n:0,(r=this.width-u.padding.right)!==null&&r!==void 0?r:0],f=[(i=this.height-u.padding.bottom)!==null&&i!==void 0?i:0,(o=u.padding.top)!==null&&o!==void 0?o:0];c&&f.reverse();for(const d of e)d.setScaleRange(P.X,(s=u.xRange)!==null&&s!==void 0?s:l),d.setScaleRange(P.Y,(a=u.yRange)!==null&&a!==void 0?a:f);const h=e.map(d=>d.bleed).reduce((d,_)=>{for(const g of Object.keys(d)){const p=g;d[p]<_[p]&&(d[p]=_[p])}return d},{top:0,bottom:0,left:0,right:0});for(const d of e)d.setScaleRange(P.X,[l[0]+h.left,l[1]-h.right]),d.setScaleRange(P.Y,c?[f[0]+h.top,f[1]-h.bottom]:[f[0]-h.bottom,f[1]+h.top])}_renderAxes(e){const{config:{xAxis:n,yAxis:r}}=this,i=this._getMargin();me([n,r]).forEach(s=>{const a=s.getOffset(i);s.g.attr("transform",`translate(${a.left},${a.top})`),s.render(e)})}_setAutoMargin(){const{config:{xAxis:e,yAxis:n}}=this,r=me([...this.components,e,n]);this._updateScalesDomain(...r);const i=this._firstRender?2:1;for(let o=0;o<i;o+=1){const s={top:0,bottom:0,left:0,right:0};this._updateScalesRange(...r),me([e,n]).forEach(u=>{u.preRender();const c=u.getRequiredMargin();s.top<c.top&&(s.top=c.top),s.bottom<c.bottom&&(s.bottom=c.bottom),s.left<c.left&&(s.left=c.left),s.right<c.right&&(s.right=c.right)}),this._axisMargin=s}}_getMargin(){const{config:{margin:e}}=this;return{top:e.top+this._axisMargin.top,bottom:e.bottom+this._axisMargin.bottom,left:e.left+this._axisMargin.left,right:e.right+this._axisMargin.right}}destroy(){const{components:e,config:{tooltip:n,crosshair:r,annotations:i,xAxis:o,yAxis:s}}=this;super.destroy();for(const a of e)a==null||a.destroy();n==null||n.destroy(),r==null||r.destroy(),i==null||i.destroy(),o==null||o.destroy(),s==null||s.destroy()}}const Aa={duration:600,events:{},attributes:{}};class eg{constructor(e=Ae.SVG){var n,r;this.type=Ae.SVG,this.datamodel=new ai,this.sizing=ae.Fit,this.events={},this._defaultConfig=Aa,this._width=400,this._height=200,this._containerWidth=void 0,this._containerHeight=void 0,this._setUpComponentEventsThrottled=Pi(this._setUpComponentEvents,500),this._setCustomAttributesThrottled=Pi(this._setCustomAttributes,500),e===Ae.SVG?this.element=document.createElementNS("http://www.w3.org/2000/svg","g"):this.element=document.createElement("div"),this.uid=Ys(),this.g=_n(this.element);const i=(r=(n=this.constructor)===null||n===void 0?void 0:n.selectors)===null||r===void 0?void 0:r.root;i&&this.g.attr("class",i)}setConfig(e){this.prevConfig=this.config,this.config=Gr(this._defaultConfig,e)}setData(e){this.datamodel.data=e}setSize(e,n,r,i){isFinite(e)&&(this._width=e),isFinite(n)&&(this._height=n),isFinite(r)&&(this._containerWidth=r),isFinite(i)&&(this._containerHeight=i)}render(e=this.config.duration){this._render(e);const n="animating";e&&(this.g.attr(n,""),this.g.transition(n).duration(e).on("end interrupt",()=>{this.g.attr(n,null)})),this._setUpComponentEventsThrottled(),this._setCustomAttributesThrottled()}get bleed(){return{top:0,bottom:0,left:0,right:0}}_render(e=this.config.duration){}_setCustomAttributes(){const e=this.config.attributes;Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(r=>{this.g.selectAll(`.${n}`).attr(r,e[n][r])})})}_setUpComponentEvents(){this._bindEvents(this.events),this._bindEvents(this.config.events,".user")}_bindEvents(e=this.events,n=""){Object.keys(e).forEach(r=>{Object.keys(e[r]).forEach(i=>{const o=this.g.selectAll(`.${r}`);o.on(i+n,(s,a)=>{const u=o.nodes(),c=u.indexOf(s.currentTarget),l=e[r][i];return l==null?void 0:l(a,s,c,u)})})})}destroy(){var e;(e=this.g)===null||e===void 0||e.remove(),this.element=void 0}isDestroyed(){return!this.element}}class ng extends ai{constructor(e){super(e)}get data(){var e;return(e=this._data)!==null&&e!==void 0?e:[]}set data(e){Array.isArray(e)&&(this._data=e)}}const Na=Object.assign(Object.assign({},Aa),{x:void 0,y:void 0,id:(t,e)=>{var n;return(n=t.id)!==null&&n!==void 0?n:`${e}`},color:t=>t.color,xScale:void 0,yScale:void 0,excludeFromDomainCalculation:!1});class rg extends eg{constructor(){super(...arguments),this.datamodel=new ng,this.clippable=!0,this.stacked=!1,this._defaultConfig=Na,this._xScale=Ho.scaleLinear(),this._yScale=Ho.scaleLinear()}get xScale(){return this.config.xScale||this._xScale}get yScale(){return this.config.yScale||this._yScale}setConfig(e){var n,r;!((n=this.config)===null||n===void 0)&&n.xScale&&(e.xScale=this.config.xScale),!((r=this.config)===null||r===void 0)&&r.yScale&&(e.yScale=this.config.yScale),super.setConfig(e)}setScaleDomain(e,n){var r,i;e===P.X&&((r=this._xScale)===null||r===void 0||r.domain(n)),e===P.Y&&((i=this._yScale)===null||i===void 0||i.domain(n))}setScaleRange(e,n){var r,i;e===P.X&&((r=this._xScale)===null||r===void 0||r.range(n)),e===P.Y&&((i=this._yScale)===null||i===void 0||i.range(n))}setScale(e,n){n&&e===P.X&&(this._xScale=n),n&&e===P.Y&&(this._yScale=n)}getDataExtent(e,n){const{config:r,datamodel:i}=this;switch(e){case P.X:return this.getXDataExtent();case P.Y:return this.getYDataExtent(n);default:return er(i.data,r[e])}}getXDataExtent(){const{config:e,datamodel:n}=this;return er(n.data,e.x)}getYDataExtent(e){const{config:n,datamodel:r}=this,i=e?rl(r.data,this.xScale.domain(),n.x):r.data,o=Xr(n.y)?n.y:[n.y];return er(i,...o)}}var Rr=Math.PI,$r=2*Rr,Ft=1e-6,ig=$r-Ft;function Fr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ea(){return new Fr}Fr.prototype=Ea.prototype={constructor:Fr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,c=o-t,l=s-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Ft)if(!(Math.abs(l*a-u*c)>Ft)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,d=r-s,_=a*a+u*u,g=h*h+d*d,p=Math.sqrt(_),v=Math.sqrt(f),y=i*Math.tan((Rr-Math.acos((_+f-g)/(2*p*v)))/2),w=y/v,T=y/p;Math.abs(w-1)>Ft&&(this._+="L"+(t+w*c)+","+(e+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+T*a)+","+(this._y1=e+T*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),u=t+s,c=e+a,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ft||Math.abs(this._y1-c)>Ft)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%$r+$r),f>ig?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>Ft&&(this._+="A"+n+","+n+",0,"+ +(f>=Rr)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function rn(t){return function(){return t}}var Yo=1e-12;function Da(t){this._context=t}Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Oa(t){return new Da(t)}function og(t){return t[0]}function sg(t){return t[1]}function ag(){var t=og,e=sg,n=rn(!0),r=null,i=Oa,o=null;function s(a){var u,c=a.length,l,f=!1,h;for(r==null&&(o=i(h=Ea())),u=0;u<=c;++u)!(u<c&&n(l=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,u,a),+e(l,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:rn(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:rn(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:rn(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Rt(){}function $n(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Kn(t){this._context=t}Kn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$n(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$n(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ug(t){return new Kn(t)}function Ra(t){this._context=t}Ra.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$n(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cg(t){return new Ra(t)}function $a(t){this._context=t}$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$n(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lg(t){return new $a(t)}function Fa(t,e){this._basis=new Kn(t),this._beta=e}Fa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,s=e[n]-i,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+u*o),this._beta*e[a]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const fg=function t(e){function n(r){return e===1?new Kn(r):new Fa(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Fn(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function wi(t,e){this._context=t,this._k=(1-e)/6}wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Fn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hg=function t(e){function n(r){return new wi(r,e)}return n.tension=function(r){return t(+r)},n}(0);function bi(t,e){this._context=t,this._k=(1-e)/6}bi.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const dg=function t(e){function n(r){return new bi(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Si(t,e){this._context=t,this._k=(1-e)/6}Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gg=function t(e){function n(r){return new Si(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Mi(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>Yo){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Yo){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function Ia(t,e){this._context=t,this._alpha=e}Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mi(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _g=function t(e){function n(r){return e?new Ia(r,e):new wi(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Pa(t,e){this._context=t,this._alpha=e}Pa.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mi(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const pg=function t(e){function n(r){return e?new Pa(r,e):new bi(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Ua(t,e){this._context=t,this._alpha=e}Ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mi(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mg=function t(e){function n(r){return e?new Ua(r,e):new Si(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function za(t){this._context=t}za.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vg(t){return new za(t)}function Bo(t){return t<0?-1:1}function Vo(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Bo(o)+Bo(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Wo(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dr(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function In(t){this._context=t}In.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dr(this,this._t0,Wo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dr(this,Wo(this,n=Vo(this,t,e)),n);break;default:dr(this,this._t0,n=Vo(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function La(t){this._context=new Ha(t)}(La.prototype=Object.create(In.prototype)).point=function(t,e){In.prototype.point.call(this,e,t)};function Ha(t){this._context=t}Ha.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function yg(t){return new In(t)}function xg(t){return new La(t)}function Ya(t){this._context=t}Ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qo(t),i=qo(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qo(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function wg(t){return new Ya(t)}function jn(t,e){this._context=t,this._t=e}jn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bg(t){return new jn(t,.5)}function Sg(t){return new jn(t,0)}function Mg(t){return new jn(t,1)}function Xo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xo(Object(n),!0).forEach(function(r){Cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function De(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?De=function(e){return typeof e}:De=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(t)}function Cg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pn(){return Pn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pn.apply(this,arguments)}function kg(t,e){if(t){if(typeof t=="string")return Go(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(t,e)}}function Go(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ba(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kg(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Ag(t,e){var n=[],r=[];function i(o,s){if(o.length===1)n.push(o[0]),r.push(o[0]);else{for(var a=Array(o.length-1),u=0;u<a.length;u++)u===0&&n.push(o[0]),u===a.length-1&&r.push(o[u+1]),a[u]=[(1-s)*o[u][0]+s*o[u+1][0],(1-s)*o[u][1]+s*o[u+1][1]];i(a,s)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function Ng(t){var e={};return t.length===4&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],t.length===4?e.type="C":t.length===3?e.type="Q":e.type="L",e}function Eg(t,e){e=e||2;for(var n=[],r=t,i=1/e,o=0;o<e-1;o++){var s=i/(1-i*o),a=Ag(r,s);n.push(a.left),r=a.right}return n.push(r),n}function Dg(t,e,n){var r=[[t.x,t.y]];return e.x1!=null&&r.push([e.x1,e.y1]),e.x2!=null&&r.push([e.x2,e.y2]),r.push([e.x,e.y]),Eg(r,n).map(Ng)}var Og=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,oe={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(oe).forEach(function(t){oe[t.toLowerCase()]=oe[t]});function Ir(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function Rg(t){return"".concat(t.type).concat(oe[t.type].map(function(e){return t[e]}).join(","))}function $g(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&e.type.toUpperCase()!=="M"){var i={};Object.keys(e).forEach(function(o){var s=e[o],a=t[o];a===void 0&&(r.includes(o)?a=s:(a===void 0&&n[o]&&(a=t[n[o]]),a===void 0&&(a=0))),i[o]=a}),i.type=e.type,t=i}return t}function Fg(t,e,n){var r=[];if(e.type==="L"||e.type==="Q"||e.type==="C")r=r.concat(Dg(t,e,n));else{var i=Pn({},t);i.type==="M"&&(i.type="L"),r=r.concat(Ir(n-1).map(function(){return i})),r.push(e)}return r}function Zo(t,e,n){var r=t.length-1,i=e.length-1,o=r/i,s=Ir(i).reduce(function(u,c,l){var f=Math.floor(o*l);if(n&&f<t.length-1&&n(t[f],t[f+1])){var h=o*l%1<.5;u[f]&&(h?f>0?f-=1:f<t.length-1&&(f+=1):f<t.length-1?f+=1:f>0&&(f-=1))}return u[f]=(u[f]||0)+1,u},[]),a=s.reduce(function(u,c,l){if(l===t.length-1){var f=Ir(c,Pn({},t[t.length-1]));return f[0].type==="M"&&f.forEach(function(h){h.type="L"}),u.concat(f)}return u.concat(Fg(t[l],t[l+1],c))},[]);return a.unshift(t[0]),a}function Qo(t){for(var e=(t||"").match(Og)||[],n=[],r,i,o=0;o<e.length;++o)if(r=oe[e[o]],r){i={type:e[o]};for(var s=0;s<r.length;++s)i[r[s]]=+e[o+s+1];o+=r.length,n.push(i)}return n}function Ig(t,e,n){var r=t==null?[]:t.slice(),i=e==null?[]:e.slice(),o=De(n)==="object"?n:{excludeSegment:n,snapEndsToInput:!0},s=o.excludeSegment,a=o.snapEndsToInput;if(!r.length&&!i.length)return function(){return[]};var u=(r.length===0||r[r.length-1].type==="Z")&&(i.length===0||i[i.length-1].type==="Z");r.length>0&&r[r.length-1].type==="Z"&&r.pop(),i.length>0&&i[i.length-1].type==="Z"&&i.pop(),r.length?i.length||i.push(r[0]):r.push(i[0]);var c=Math.abs(i.length-r.length);c!==0&&(i.length>r.length?r=Zo(r,i,s):i.length<r.length&&(i=Zo(i,r,s))),r=r.map(function(f,h){return $g(f,i[h])});var l=r.map(function(f){return Tg({},f)});return u&&(l.push({type:"Z"}),r.push({type:"Z"})),function(h){if(h===1&&a)return e??[];if(h===0)return r;for(var d=0;d<l.length;++d){var _=r[d],g=i[d],p=l[d],v=Ba(oe[p.type]),y;try{for(v.s();!(y=v.n()).done;){var w=y.value;p[w]=(1-h)*_[w]+h*g[w],(w==="largeArcFlag"||w==="sweepFlag")&&(p[w]=Math.round(p[w]))}}catch(T){v.e(T)}finally{v.f()}}return l}}function Pg(t,e,n){var r=Qo(t),i=Qo(e),o=De(n)==="object"?n:{excludeSegment:n,snapEndsToInput:!0},s=o.excludeSegment,a=o.snapEndsToInput;if(!r.length&&!i.length)return function(){return""};var u=Ig(r,i,{excludeSegment:s,snapEndsToInput:a});return function(l){if(l===1&&a)return e??"";var f=u(l),h="",d=Ba(f),_;try{for(d.s();!(_=d.n()).done;){var g=_.value;h+=Rg(g)}}catch(p){d.e(p)}finally{d.f()}return h}}function Jo(t,e,n,r){return Array.isArray(e)&&isFinite(n)?e[n%e.length]:xs(t,e,n)||(Oe(n)&&!r?`var(${Et(n)})`:null)}var $;(function(t){t.Basis="basis",t.BasisClosed="basisClosed",t.BasisOpen="basisOpen",t.Bundle="bundle",t.Cardinal="cardinal",t.CardinalClosed="cardinalClosed",t.CardinalOpen="cardinalOpen",t.CatmullRom="catmullRom",t.CatmullRomClosed="catmullRomClosed",t.CatmullRomOpen="catmullRomOpen",t.Linear="linear",t.LinearClosed="linearClosed",t.MonotoneX="monotoneX",t.MonotoneY="monotoneY",t.Natural="natural",t.Step="step",t.StepAfter="stepAfter",t.StepBefore="stepBefore"})($||($={}));const Ko={[$.Basis]:ug,[$.BasisClosed]:cg,[$.BasisOpen]:lg,[$.Bundle]:fg,[$.Cardinal]:hg,[$.CardinalClosed]:dg,[$.CardinalOpen]:gg,[$.CatmullRom]:_g,[$.CatmullRomClosed]:pg,[$.CatmullRomOpen]:mg,[$.Linear]:Oa,[$.LinearClosed]:vg,[$.MonotoneX]:yg,[$.MonotoneY]:xg,[$.Natural]:wg,[$.Step]:bg,[$.StepAfter]:Mg,[$.StepBefore]:Sg},Ug=Object.assign(Object.assign({},Na),{curveType:$.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null}),zg=Us`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;
  }
`,Lg=ge`
  label: line-component;
`,ke=ge`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,Pr=ge`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,Ur=ge`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,zr=ge`
  opacity: 0.2;
`,Hg=Object.freeze(Object.defineProperty({__proto__:null,dim:zr,globalStyles:zg,line:ke,linePath:Pr,lineSelectionHelper:Ur,root:Lg},Symbol.toStringTag,{value:"Module"}));class tr extends rg{constructor(e){super(),this._defaultConfig=Ug,this.config=this._defaultConfig,this.curve=Ko[$.MonotoneX],this.events={[tr.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},e&&this.setConfig(e)}get bleed(){const{config:{lineWidth:e}}=this,n=this.yScale.domain(),i=(this.yScale.range()[0]>this.yScale.range()[1]?Yt.North:Yt.South)===Yt.South,o=e>3,s=e>=10;return{top:!s&&(!i&&n[1]===0||i&&n[0]===0)?0:e/2,bottom:!s&&(!i&&n[0]===0||i&&n[1]===0)?0:e/2,left:o?e/2:0,right:o?e/2:0}}_render(e){super._render(e);const{config:n,datamodel:{data:r}}=this,i=Oe(e)?e:n.duration;this.curve=Ko[n.curveType],this.lineGen=ag().x(f=>f.x).y(f=>f.y).defined(f=>f.defined).curve(this.curve);const o=Xr(n.y)?n.y:[n.y],s=r.map((f,h)=>this.xScale(Re(f,n.x,h))),a=o.map(f=>{const h=r.map((g,p)=>{const v=Re(g,f,p),y=(Oe(v)||v===null)&&isFinite(v)?v:n.fallbackValue;return{x:s[p],y:this.yScale(y??0),defined:isFinite(y),value:y}}),d=h.reduce((g,p)=>p.defined||g,!1),_=d&&h.some(g=>g.value!==null);return{values:h,defined:d,visible:_}}),u=this.g.selectAll(`.${ke}`).data(a),c=u.enter().append("g").attr("class",ke);c.append("path").attr("class",Pr).attr("stroke",(f,h)=>Jo(r,n.color,h)).attr("stroke-opacity",0).attr("stroke-width",n.lineWidth),c.append("path").attr("class",Ur).attr("d",this._emptyPath());const l=c.merge(u);l.style("cursor",(f,h)=>xs(r,n.cursor,h)),l.each((f,h,d)=>{var _;const g=_n(d[h]),p=g.select(`.${Pr}`),v=g.select(`.${Ur}`),y=f.visible,w=Zr(r,n.lineDashArray,h),T=po(p,i).attr("stroke",Jo(r,n.color,h)).attr("stroke-width",n.lineWidth).attr("stroke-opacity",y?1:0).style("stroke-dasharray",(_=w==null?void 0:w.join(" "))!==null&&_!==void 0?_:null),M=f.values.some(S=>!S.defined),x=this.lineGen(f.values);if(i&&!M){const S=p.attr("d")||this._emptyPath(),U=x||this._emptyPath();T.attrTween("d",()=>Pg(S,U))}else f.visible&&T.attr("d",x);v.attr("d",x).attr("visibility",y?null:"hidden")}),po(u.exit(),i).style("opacity",0).remove()}_emptyPath(){const e=this.xScale.range(),n=this.yScale.range();return`M${e[0]},${n[0]} L${e[1]},${n[0]}`}_highlight(e){const{config:n}=this;n.highlightOnHover&&this.g.selectAll(`.${ke}`).classed(zr,r=>r!==e)}_resetHighlight(){const{config:e}=this;e.highlightOnHover&&this.g.selectAll(`.${ke}`).classed(zr,!1)}}tr.selectors=Hg;function Yg(t){let e,n,r;const i=t[6].default,o=Qa(i,t,t[5],null);return{c(){e=G("vis-xy-container"),o&&o.c(),this.h()},l(s){e=Z(s,"VIS-XY-CONTAINER",{class:!0});var a=et(e);o&&o.l(a),a.forEach(F),this.h()},h(){Ci(e,"class",n=ki(`unovis-xy-container ${t[0]}`)+" svelte-gc0q1w")},m(s,a){Tt(s,e,a),o&&o.m(e,null),t[7](e),r=!0},p(s,[a]){o&&o.p&&(!r||a&32)&&Ja(o,i,s,s[5],r?ja(i,s[5],a,null):Ka(s[5]),null),(!r||a&1&&n!==(n=ki(`unovis-xy-container ${s[0]}`)+" svelte-gc0q1w"))&&Ci(e,"class",n)},i(s){r||(Bt(o,s),r=!0)},o(s){Vt(o,s),r=!1},d(s){s&&F(e),o&&o.d(s),t[7](null)}}}function Bg(t,e,n){const r=["data","class"];let i=hn(e,r),{$$slots:o={},$$scope:s}=e,{data:a=void 0}=e,{class:u=""}=e,c;const l={components:[],crosshair:void 0,tooltip:void 0,xAxis:void 0,yAxis:void 0,annotations:void 0};let f;ns(()=>(n(3,c=new tg(f,l,a)),()=>c.destroy())),pe("component",()=>({update:d=>{n(4,l.components=[...l.components,d],l)},destroy:()=>{n(4,l.components=l.components.filter(d=>!d.isDestroyed()),l)}})),pe("axis",d=>({update:_=>{d.__type__=_.config.type,n(4,l[`${d.__type__}Axis`]=_,l)},destroy:()=>{n(4,l[`${d.__type__}Axis`]=void 0,l)}})),pe("crosshair",()=>({update:d=>{n(4,l.crosshair=d,l)},destroy:()=>{n(4,l.crosshair=void 0,l)}})),pe("tooltip",()=>({update:d=>{n(4,l.tooltip=d,l)},destroy:()=>{n(4,l.tooltip=void 0,l)}})),pe("annotations",()=>({update:d=>{n(4,l.annotations=d,l)},destroy:()=>{n(4,l.annotations=void 0,l)}}));function h(d){tu[d?"unshift":"push"](()=>{f=d,n(1,f)})}return t.$$set=d=>{e=dn(dn({},e),rs(d)),n(8,i=hn(e,r)),"data"in d&&n(2,a=d.data),"class"in d&&n(0,u=d.class),"$$scope"in d&&n(5,s=d.$$scope)},t.$$.update=()=>{t.$$.dirty&12&&(c==null||c.setData(a,!0)),c==null||c.updateContainer(Object.assign(Object.assign({},l),i))},[u,f,a,c,l,s,o,h]}class Vg extends zn{constructor(e){super(),Ln(this,e,Bg,Yg,Un,{data:2,class:0})}}function Wg(t,e){return vn(t,e)}function qg(t){let e,n,r,i;return{c(){e=G("vis-component")},l(o){e=Z(o,"VIS-COMPONENT",{}),et(e).forEach(F)},m(o,s){Tt(o,e,s),r||(i=eu(n=t[1].call(null,e,t[0])),r=!0)},p(o,[s]){n&&nu(n.update)&&s&1&&n.update.call(null,o[0])},i:ee,o:ee,d(o){o&&F(e),r=!1,i()}}}function Xg(t,e,n){const r=["data","x","y","getComponent"];let i=hn(e,r),{data:o=void 0}=e,{x:s}=e,{y:a}=e,u,c,l;const f=ru("component");ns(()=>(n(0,l=new tr(c)),()=>l==null?void 0:l.destroy()));function h(){return l}return t.$$set=d=>{e=dn(dn({},e),rs(d)),n(8,i=hn(e,r)),"data"in d&&n(2,o=d.data),"x"in d&&n(3,s=d.x),"y"in d&&n(4,a=d.y)},t.$$.update=()=>{n(7,c=Object.assign({x:s,y:a},i)),t.$$.dirty&5&&(l==null||l.setData(o)),t.$$.dirty&193&&(Wg(u,c)||(l==null||l.setConfig(c),n(6,u=c)))},[l,f,o,s,a,h,u,c]}class Gg extends zn{constructor(e){super(),Ln(this,e,Xg,qg,Un,{data:2,x:3,y:4,getComponent:5})}get getComponent(){return this.$$.ctx[5]}}function Zg(t){let e,n,r;return n=new Vg({props:{data:t[2],$$slots:{default:[Jg]},$$scope:{ctx:t}}}),{c(){e=G("div"),Lr(n.$$.fragment)},l(i){e=Z(i,"DIV",{});var o=et(e);Hr(n.$$.fragment,o),o.forEach(F)},m(i,o){Tt(i,e,o),Yr(n,e,null),r=!0},p(i,o){const s={};o&512&&(s.$$scope={dirty:o,ctx:i}),n.$set(s)},i(i){r||(Bt(n.$$.fragment,i),r=!0)},o(i){Vt(n.$$.fragment,i),r=!1},d(i){i&&F(e),Br(n)}}}function Qg(t){let e,n,r=t[1].run_id+"",i,o,s,a,u=t[1].components.resistor_ohm+"",c,l,f,h,d,_=t[1].components.inductor_mh+"",g,p,v,y,w,T=t[1].components.capacitor_nf+"",M,x,S,U,it=t[1].is_sweep?`${t[1].frequency.start}Hz-${t[1].frequency.end}Hz`:`${t[1].frequency}Hz`,gt,C,H,B=t[1].annotation+"",ot;return{c(){e=G("div"),n=G("div"),i=st(r),o=Kt(),s=G("div"),a=st("R "),c=st(u),l=st("Ω"),f=Kt(),h=G("div"),d=st("L "),g=st(_),p=st("mH"),v=Kt(),y=G("div"),w=st("C "),M=st(T),x=st("nF"),S=Kt(),U=G("div"),gt=st(it),C=Kt(),H=G("div"),ot=st(B),this.h()},l(_t){e=Z(_t,"DIV",{class:!0});var I=et(e);n=Z(I,"DIV",{});var wt=et(n);i=at(wt,r),wt.forEach(F),o=jt(I),s=Z(I,"DIV",{});var ct=et(s);a=at(ct,"R "),c=at(ct,u),l=at(ct,"Ω"),ct.forEach(F),f=jt(I),h=Z(I,"DIV",{});var W=et(h);d=at(W,"L "),g=at(W,_),p=at(W,"mH"),W.forEach(F),v=jt(I),y=Z(I,"DIV",{});var Qt=et(y);w=at(Qt,"C "),M=at(Qt,T),x=at(Qt,"nF"),Qt.forEach(F),S=jt(I),U=Z(I,"DIV",{});var Xe=et(U);gt=at(Xe,it),Xe.forEach(F),C=jt(I),H=Z(I,"DIV",{});var Ge=et(H);ot=at(Ge,B),Ge.forEach(F),I.forEach(F),this.h()},h(){It(e,"class","flex items-center justify-start gap-7 cursor-pointer")},m(_t,I){Tt(_t,e,I),R(e,n),R(n,i),R(e,o),R(e,s),R(s,a),R(s,c),R(s,l),R(e,f),R(e,h),R(h,d),R(h,g),R(h,p),R(e,v),R(e,y),R(y,w),R(y,M),R(y,x),R(e,S),R(e,U),R(U,gt),R(e,C),R(e,H),R(H,ot)},p:ee,i:ee,o:ee,d(_t){_t&&F(e)}}}function Jg(t){let e,n;return e=new Gg({props:{x:t[3],y:t[4]}}),{c(){Lr(e.$$.fragment)},l(r){Hr(e.$$.fragment,r)},m(r,i){Yr(e,r,i),n=!0},p:ee,i(r){n||(Bt(e.$$.fragment,r),n=!0)},o(r){Vt(e.$$.fragment,r),n=!1},d(r){Br(e,r)}}}function Kg(t){let e,n,r,i,o,s;const a=[Qg,Zg],u=[];function c(l,f){return l[0]?1:0}return n=c(t),r=u[n]=a[n](t),{c(){e=G("div"),r.c(),this.h()},l(l){e=Z(l,"DIV",{class:!0,role:!0});var f=et(e);r.l(f),f.forEach(F),this.h()},h(){It(e,"class","p-2 bg-white rounded-lg shadow-md"),It(e,"role","presentation")},m(l,f){Tt(l,e,f),u[n].m(e,null),i=!0,o||(s=gr(e,"click",t[6]),o=!0)},p(l,[f]){let h=n;n=c(l),n===h?u[n].p(l,f):(is(),Vt(u[h],1,1,()=>{u[h]=null}),os(),r=u[n],r?r.p(l,f):(r=u[n]=a[n](l),r.c()),Bt(r,1),r.m(e,null))},i(l){i||(Bt(r),i=!0)},o(l){Vt(r),i=!1},d(l){l&&F(e),u[n].d(),o=!1,s()}}}function jg(t,e,n){let{run:r}=e;const{metadata:i,voltages:o,voltagesFrequency:s,phasesFrequency:a}=r;let u=!1;const c=[h=>h[0].x,h=>h[1].x,h=>h[2].x,h=>h[3].x],l=[h=>h[0].y,h=>h[1].y,h=>h[2].y,h=>h[3].y],f=()=>n(0,u=!u);return t.$$set=h=>{"run"in h&&n(5,r=h.run)},[u,i,o,c,l,r,f]}class t_ extends zn{constructor(e){super(),Ln(this,e,jg,Kg,Un,{run:5})}}function e_(t){t=t.trim(),t=t.substring(0,t.length-5);const e=t.split(`\r
`).map(i=>i.split(";")),n=e[0].length-1;console.log("Plots detected:",n),console.log(e);const r=[];for(const i of e){const o=parseFloat(i[0].split(":").slice(-1)[0].replace(",",".")),s=[];for(let a=0,u=1;a<n;a++,u++){const c={x:o,y:parseFloat(i[u])};s.push(c),(Number.isNaN(c.x)||Number.isNaN(c.y))&&console.log("nan plot",c)}r.push(s)}return r.length<10&&console.log(t),r}function jo(t){const e=t.trimStart().split(`\r
`).map(i=>i.split(";")),n=e[0].length,r=new Array(n).fill(0).map(()=>[]);for(const i of e)for(let o=0,s=1,a=0;a<n;o+=2,s+=2,a++)r[a].push({x:parseFloat(i[o]),y:parseFloat(i[s])});return r}async function n_(t){const e=Array.from(t),n=e.filter(a=>a.webkitRelativePath.split("/")[1]==="metadata"),r=e.filter(a=>a.webkitRelativePath.split("/")[1]==="voltages"),i=e.filter(a=>{const u=a.webkitRelativePath.split("/").slice(1);return u[0]==="frequency_analysis"&&u[1]==="voltage"}),o=e.filter(a=>{const u=a.webkitRelativePath.split("/").slice(1);return u[0]==="frequency_analysis"&&u[1]==="phase"}),s=[];for(const a of n){const u=JSON.parse(await a.text());console.log("--------- Loading run:",u.run_id,"--------");const c=r.find(p=>p.name.endsWith(u.run_id+".csv"));console.log("Voltages file:",c.webkitRelativePath);const l=await c.text();console.log(`File content:
`,l);const f=e_(l);console.log(`Voltages data:
`,f);const h=i.find(p=>p.name.endsWith(u.run_id+".csv")),d=jo(await h.text()),_=o.find(p=>p.name.endsWith(u.run_id+".csv")),g=jo(await _.text());s.push({id:u.run_id,metadata:u,voltages:f,voltagesFrequency:d,phasesFrequency:g})}return s}function ts(t,e,n){const r=t.slice();return r[4]=e[n],r}function es(t,e){let n,r,i;return r=new t_({props:{run:e[4]}}),{key:t,first:null,c(){n=Ai(),Lr(r.$$.fragment),this.h()},l(o){n=Ai(),Hr(r.$$.fragment,o),this.h()},h(){this.first=n},m(o,s){Tt(o,n,s),Yr(r,o,s),i=!0},p(o,s){e=o;const a={};s&2&&(a.run=e[4]),r.$set(a)},i(o){i||(Bt(r.$$.fragment,o),i=!0)},o(o){Vt(r.$$.fragment,o),i=!1},d(o){o&&F(n),Br(r,o)}}}function r_(t){let e,n,r,i,o=[],s=new Map,a,u,c,l=Ni(t[1]);const f=h=>h[4].id;for(let h=0;h<l.length;h+=1){let d=ts(t,l,h),_=f(d);s.set(_,o[h]=es(_,d))}return{c(){e=G("div"),n=G("input"),r=Kt(),i=G("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=Z(h,"DIV",{class:!0});var d=et(e);n=Z(d,"INPUT",{type:!0,webkitdirectory:!0}),d.forEach(F),r=jt(h),i=Z(h,"DIV",{class:!0});var _=et(i);for(let g=0;g<o.length;g+=1)o[g].l(_);_.forEach(F),this.h()},h(){It(n,"type","file"),n.multiple=!0,It(n,"webkitdirectory",""),It(e,"class","bg-white p-3 shadow-md"),It(i,"class","flex flex-col p-3 gap-3")},m(h,d){Tt(h,e,d),R(e,n),Tt(h,r,d),Tt(h,i,d);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(i,null);a=!0,u||(c=[gr(n,"change",t[3]),gr(n,"change",t[2])],u=!0)},p(h,[d]){d&2&&(l=Ni(h[1]),is(),o=ou(o,d,f,1,h,l,s,i,su,es,null,ts),os())},i(h){if(!a){for(let d=0;d<l.length;d+=1)Bt(o[d]);a=!0}},o(h){for(let d=0;d<o.length;d+=1)Vt(o[d]);a=!1},d(h){h&&(F(e),F(r),F(i));for(let d=0;d<o.length;d+=1)o[d].d();u=!1,iu(c)}}}function i_(t,e,n){let r,i=[];async function o(){n(1,i=await n_(r))}function s(){r=this.files,n(0,r)}return[r,i,o,s]}class u_ extends zn{constructor(e){super(),Ln(this,e,i_,r_,Un,{})}}export{u_ as component};
